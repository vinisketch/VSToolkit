define(["exports","vs_utils","vs_core","vs_gesture"],function(exports,vs_utils$1,vs_core$1,vs_gesture){"use strict";var vs_utils$1__default="default"in vs_utils$1?vs_utils$1.default:vs_utils$1,vs_core$1__default="default"in vs_core$1?vs_core$1.default:vs_core$1;function createProperty(t){return vs_utils$1.CSS_VENDOR?"-"+vs_utils$1.CSS_VENDOR.toLowerCase()+"-"+t:t}var ANIMATION_DURATION=createProperty("animation-duration"),ANIMATION_DELAY=createProperty("animation-delay"),ANIMATION_NAME=createProperty("animation-name"),ANIMATION_TIMING_FUNC=createProperty("animation-timing-function"),ANIMATION_FILL_MODE=createProperty("animation-fill-mode"),TRANSITION_DURATION=createProperty("transition-duration"),TRANSITION_DELAY=createProperty("transition-delay"),TRANSITION_TIMING_FUNC=createProperty("transition-timing-function"),TRANSITION_PROPERTY=createProperty("transition-property"),TRANSFORM_ORIGIN=createProperty("transform-origin"),ITERATION_COUNT=createProperty("animation-iteration-count"),TRANSFORM=createProperty("transform"),KEY_FRAMES=createProperty("keyframes");exports.ANIMATION_END="animationend",exports.TRANSITION_END="transitionend","webkit"===vs_utils$1.CSS_VENDOR?(exports.ANIMATION_END="webkitAnimationEnd",exports.TRANSITION_END="webkitTransitionEnd"):"ms"===vs_utils$1.CSS_VENDOR?(exports.ANIMATION_END="msAnimationEnd",exports.TRANSITION_END="msTransitionEnd"):"moz"===vs_utils$1.CSS_VENDOR&&(exports.ANIMATION_END="Mozanimationend",exports.TRANSITION_END="Moztransitionend");var AnimationWidthRegExp=new RegExp(/\$width/g),AnimationHeightRegExp=new RegExp(/\$height/g),AnimationXRegExp=new RegExp(/\$x/g),AnimationYRegExp=new RegExp(/\$y/g),AnimationVariableRegExp=new RegExp(/\$\{([\w]+)\}/g);function cancelAnimation(t){if(!t)return!1;var e,i;if(!(i=Animation.__css_animations[t])||2!==i.length)return!1;if(!i[1]||!i[1].getStyle||!i[0])return!1;if(!(e=i[1].getStyle(ANIMATION_NAME)))return!1;e=e.replace(t,""),i[1].setStyle(ANIMATION_NAME,e);try{document.getElementsByTagName("head")[0].removeChild(i[0])}catch(t){return t.stack&&console.log(t.stack),console.error(t),!1}return delete Animation.__css_animations[t],!0}var procesAnimation=function(t,e,i,s,_){if(e&&t&&t.view){var n=function(t){var e,i,s={};t.properties?s.properties=t.properties.slice():s.properties=[],t.values?s.values=t.values.slice():s.values=[],t.durations&&(s.durations=t.durations),t.timings?s.timings=t.timings.slice():s.timings=[],t.origin&&(s.origin=t.origin.slice()),s.iterationCount=t.iterationCount,s.delay=t.delay,s.additive=t.additive,s.keyFrames={},t.keyFrames["100%"]||(t.keyFrames["100%"]=t);var _;for(e in t.keyFrames)if(i=t.keyFrames[e],vs_utils$1.isArray(i)){_=[];for(var n=0;n<i.length;n++)value=i[n],null!=value&&"undefined"!=typeof value&&(_[n]=o(value,t));s.keyFrames[e]=_}else{for(n=0;n<t.properties.length;n++)s.values[n]=o(t.values[n],i);s.keyFrames[e]={}}return s}(e);return _procesAnimation(t,e,n,i,s,_)}console.error("procesAnimation: invalid component parameter!");function o(i,s){var _,n=[];if(vs_utils$1.isNumber(i))return i;if(vs_utils$1.isString(i)){i=(i=(i=(i=i.replace(AnimationWidthRegExp,t.size[0]+"px")).replace(AnimationHeightRegExp,t.size[1]+"px")).replace(AnimationXRegExp,t.position[0]+"px")).replace(AnimationYRegExp,t.position[1]+"px");for(var o=AnimationVariableRegExp.exec(i);o&&2===o.length;)n.push(o[1]),o=AnimationVariableRegExp.exec(i);for(var r=0;r<n.length;r++)void 0!==s[_=n[r]]?i=i.replace("${"+_+"}",s[_]):void 0!==e[_]&&(i=i.replace("${"+_+"}",e[_]));return i}return console.warn("vs.fx.Animation._parseValue. Unknown value's type: "+i),0}},_procesAnimation=function(t,e,i,s,_,n){if(i&&t&&t.view){var o=vs_core$1.createId(),r=!!i.keyFrames["0%"],a=!1,l=this;return r?vs_core$1.scheduleAction(c):vs_core$1.scheduleAction(u),o}console.error("procesAnimation: invalid component parameter!");function h(){var e;if(e=r?ANIMATION_DURATION:TRANSITION_DURATION,vs_utils$1.isArray(i.origin)&&2===i.origin.length){var s=i.origin[0]+"% "+i.origin[1]+"%";t.setStyle(TRANSFORM_ORIGIN,s)}n?t.setStyle(e,0):vs_utils$1.isString(i.durations)?t.setStyle(e,i.durations):vs_utils$1.isArray(i.durations)?t.setStyle(e,i.durations.join(", ")):t.setStyle(e,Animation.DEFAULT_DURATION),e=r?ANIMATION_DELAY:TRANSITION_DELAY,!n&&vs_utils$1.isNumber(i.delay)?t.setStyle(e,i.delay+"ms"):t.setStyle(e,"0"),e=r?ANIMATION_TIMING_FUNC:TRANSITION_TIMING_FUNC,vs_utils$1.isString(i.timings)?t.setStyle(e,i.timings):vs_utils$1.isArray(i.timings)?t.setStyle(e,i.timings.join(", ")):t.setStyle(e,Animation.EASE),r&&("infinite"===i.iterationCount?t.setStyle(ITERATION_COUNT,"infinite"):i.iterationCount&&vs_utils$1.isNumber(i.iterationCount)?t.setStyle(ITERATION_COUNT,i.iterationCount):t.setStyle(ITERATION_COUNT,"1"),t.setStyle(ANIMATION_FILL_MODE,"forwards"))}function u(){h();var o,r;o=function(n){if(n.currentTarget===t.view){if(a||t.view.removeEventListener(exports.TRANSITION_END,o,!1),t.view.style.removeProperty(TRANSITION_DURATION),t.view.style.removeProperty(TRANSITION_DELAY),e.delegate&&e.delegate.taskDidEnd)try{e.delegate.taskDidEnd(i)}catch(t){t.stack&&console.log(t.stack),console.error(t)}s&&s.call(_||l)}},r=parseFloat(t.view.style.getPropertyValue(TRANSITION_DURATION)),(n||0===r)&&(a=!0),a?vs_core$1.scheduleAction(function(){o({currentTarget:t.view})}):t.view.addEventListener(exports.TRANSITION_END,o,!1),d()}function d(){for(var e,s,_="",n=[],o=0;o<i.properties.length;o++)e=i.properties[o],s=i.values[o],"rotate"===e?(_+="rotate("+s+") ",e=TRANSFORM):"skew"===e?(_+="skew("+s+") ",e=TRANSFORM):vs_utils$1.SUPPORT_3D_TRANSFORM&&"translate"===e?(_+="translate3d("+s+") ",e=TRANSFORM):"translate"===e?(_+="translate("+s+") ",e=TRANSFORM):"translateX"===e?(_+="translateX("+s+") ",e=TRANSFORM):"translateY"===e?(_+="translateY("+s+") ",e=TRANSFORM):"rotateX"===e?(_+="rotateX("+s+") ",e=TRANSFORM):"rotateY"===e?(_+="rotateY("+s+") ",e=TRANSFORM):"scale"===e?(_+="scale("+s+") ",e=TRANSFORM):t.setStyle(e,s),-1==n.indexOf(e)&&n.push(e);if(_){if(i.additive){_=t.getCTM().toString()+" "+_}vs_utils$1.setElementTransform(t.view,_)}t.setStyle(TRANSITION_PROPERTY,n.join(","))}function c(){var u,c,v,p,f,m,g=document.createElement("style");g.type="text/css";var T="";for(c in i.keyFrames){if(f="",u=i.keyFrames[c],v="",vs_utils$1.isArray(u))for(var w=0;w<u.length;w++)null!=(m=u[w])&&void 0!==m&&(p=i.properties[w])&&("rotate"===p?f+="rotate("+m+") ":"skew"===p?f+="skew("+m+") ":vs_utils$1.SUPPORT_3D_TRANSFORM&&"translate"===p?f+="translate3d("+m+") ":"translate"===p?f+="translate("+m+") ":"translateX"===p?f+="translateX("+m+") ":"translateY"===p?f+="translateY("+m+") ":"rotateX"===p?f+="rotateX("+m+") ":"rotateY"===p?f+="rotateY("+m+") ":"scale"===p?f+="scale("+m+") ":"perspective"===p?f+="perspective("+m+") ":v+=p+":"+m+";");else for(w=0;w<i.properties.length;w++)m=i.values[w],(p=i.properties[w])&&("rotate"===p?f+="rotate("+m+") ":"skew"===p?f+="skew("+m+") ":vs_utils$1.SUPPORT_3D_TRANSFORM&&"translate"===p?f+="translate3d("+m+") ":"translate"===p?f+="translate("+m+") ":"translateX"===p?f+="translateX("+m+") ":"translateY"===p?f+="translateY("+m+") ":"rotateX"===p?f+="rotateX("+m+") ":"rotateY"===p?f+="rotateY("+m+") ":"scale"===p?f+="scale("+m+") ":"perspective"===p?f+="perspective("+m+") ":v+=p+":"+m+";");if(f){if(i.additive){f=t.getCTM().toString()+" "+f}v+=TRANSFORM+": "+f+";"}T+=c+" { "+v+" } "}var A=document.createTextNode("@"+KEY_FRAMES+" "+o+" { "+T+" }");g.appendChild(A),document.getElementsByTagName("head")[0].appendChild(g),Animation.__css_animations[o]=[g,t],function(){h();var u,c,v=function(n){if(n.currentTarget===t.view){a||t.view.removeEventListener(exports.ANIMATION_END,v,!1),r&&d(),t.view.style.removeProperty(ANIMATION_DURATION),t.view.style.removeProperty(ANIMATION_DELAY),(u=t.getStyle(ANIMATION_NAME))&&(u=u.replace(o,""),t.setStyle(ANIMATION_NAME,u));try{data=Animation.__css_animations[o],data&&2===data.length&&(document.getElementsByTagName("head")[0].removeChild(data[0]),delete Animation.__css_animations[o])}catch(t){return t.stack&&console.log(t.stack),console.error(t),!1}if(e.delegate&&e.delegate.taskDidEnd)try{e.delegate.taskDidEnd(i)}catch(t){t.stack&&console.log(t.stack),console.error(t)}s&&s.call(_||l)}};c=parseFloat(t.view.style.getPropertyValue(ANIMATION_DURATION)),(n||0===c)&&(a=!0),a?vs_core$1.scheduleAction(function(){v({currentTarget:t.view})}):t.view.addEventListener(exports.ANIMATION_END,v,!1),(u=t.getStyle(ANIMATION_NAME))?u+=", "+o:u=o,t.setStyle(ANIMATION_NAME,u)}()}};function Animation(t){this.parent=vs_core$1.Task,this.parent(),this.constructor=Animation,arguments.length&&(this.setAnimations(arguments),this.keyFrames["100%"]=this)}Animation.__css_animations={},Animation.DEFAULT_DURATION="0.3s",Animation.DEFAULT_TIMING=Animation.EASE,Animation.prototype={properties:null,values:null,durations:null,timings:null,origin:null,iterationCount:1,delay:0,keyFrames:null,additive:!0,setAnimations:function(t){var e,i,s,_;for(this.properties=[],this.values=[],this.timings=[],this.keyFrames={},this.origin=null,this.durations=null,this.timings=null,e=0;e<t.length;e++)_=t[e],vs_utils$1.isArray(_)&&2===_.length?(i=_[0],s=_[1],vs_utils$1.isString(i)&&vs_utils$1.isString(s)?(this.properties.push(i),this.values.push(s)):console.warn("vs.fx.Animation, invalid constructor argument option: ["+i+", "+s+"]")):console.warn("vs.fx.Animation, invalid animations")},addKeyFrame:function(t,e){e&&("from"!==t?"to"!==t?!vs_utils$1.isNumber(t)||t<0||t>100||(this.keyFrames[t+"%"]=e):this.keyFrames["100%"]=e:this.keyFrames["0%"]=e)},process:function(t,e,i,s){return procesAnimation(t,this,e,i,s)},_clone:function(t,e){vs_core$1.VSObject.prototype._clone.call(this,t,e);var i,s;if(t.keyFrames={},t.keyFrames["100%"]=t,this.properties?t.properties=this.properties.slice():t.properties=[],this.values?t.values=this.values.slice():t.values=[],this.durations&&(t.durations=this.durations),this.timings?t.timings=this.timings.slice():t.timings=[],this.origin&&(t.origin=this.origin.slice()),this.keyFrames)for(i in this.keyFrames)"100%"!==i&&(s=this.keyFrames[i],vs_utils$1.isArray(s)?t.keyFrames[i]=s.slice():t.keyFrames[i]=vs_utils$1.clone(s));t.iterationCount=this.iterationCount,t.delay=this.delay},start:function(t){return this.process(t)}},vs_utils$1.extendClass(Animation,vs_core$1.Task),vs_utils$1.defineClassProperties(Animation,{duration:{set:function(t){t&&(this.durations=[t])},get:function(){return this.durations&&this.durations.length?this.durations[0]:Animation.DEFAULT_DURATION}},timing:{set:function(t){t&&(this.timings=[t])},get:function(){return this.timings&&this.timings.length?this.timings[0]:Animation.EASE}}}),Animation.EASE="ease",Animation.LINEAR="linear",Animation.EASE_IN="ease-in",Animation.EASE_OUT="ease-out",Animation.EASE_IN_OUT="ease-in-out";var TranslateAnimation=function(t,e,i){this.parent=Animation,arguments.length?(vs_utils$1.SUPPORT_3D_TRANSFORM?this.parent(["translate","${x}px,${y}px,${z}px"]):this.parent(["translate","${x}px,${y}px"]),vs_utils$1.isNumber(t)&&(this.x=t),vs_utils$1.isNumber(e)&&(this.y=e),vs_utils$1.isNumber(i)&&(this.z=i)):this.parent(),this.constructor=TranslateAnimation};TranslateAnimation.prototype={x:0,y:0,z:0,_clone:function(t,e){Animation.prototype._clone.call(this,t,e),t.x=this.x,t.y=this.y,t.z=this.z}},vs_utils$1.extendClass(TranslateAnimation,Animation);var RotateAnimation=function(t){this.parent=Animation,arguments.length?(this.parent(["rotate","${deg}deg"]),vs_utils$1.isNumber(t)&&(this.deg=t)):this.parent(),this.constructor=RotateAnimation};RotateAnimation.prototype={deg:0,_clone:function(t,e){Animation.prototype._clone.call(this,t,e),t.deg=this.deg}},vs_utils$1.extendClass(RotateAnimation,Animation);var RotateXYZAnimation=function(t,e,i){this.parent=Animation,arguments.length?(this.parent(["rotateX","${degX}deg"],["rotateY","${degY}deg"],["rotate","${degZ}deg"]),vs_utils$1.isNumber(t)&&(this.degX=t),vs_utils$1.isNumber(e)&&(this.degY=e),vs_utils$1.isNumber(i)&&(this.degZ=i)):this.parent(),this.constructor=RotateXYZAnimation};RotateXYZAnimation.prototype={degX:0,degY:0,degZ:0,_clone:function(t,e){Animation.prototype._clone.call(this,t,e),t.degX=this.degX,t.degY=this.degY,t.degZ=this.degZ}},vs_utils$1.extendClass(RotateXYZAnimation,Animation);var ScaleAnimation=function(t,e,i){this.parent=Animation,arguments.length?vs_utils$1.isNumber(e)||vs_utils$1.isNumber(e)?(this.parent(["scaleX","${sx}"],["scaleY","${sy}"],["scaleZ","${sz}"]),vs_utils$1.isNumber(t)&&(this.sx=t),vs_utils$1.isNumber(e)&&(this.sy=e),vs_utils$1.isNumber(i)&&(this.sz=i)):(this.parent(["scale","${sx}"]),this.sx=t,this.sy=t):this.parent(),this.constructor=ScaleAnimation};ScaleAnimation.prototype={sx:1,sy:1,sz:1,_clone:function(t,e){Animation.prototype._clone.call(this,t,e),t.sx=this.sx,t.sy=this.sy,t.sz=this.sz}},vs_utils$1.extendClass(ScaleAnimation,Animation);var SkewAnimation=function(t,e){this.parent=Animation,arguments.length?(this.parent(["skew","${ax}deg,${ay}deg"]),vs_utils$1.isNumber(t)&&(this.ax=t),vs_utils$1.isNumber(e)&&(this.ay=e)):this.parent(),this.constructor=SkewAnimation};SkewAnimation.prototype={ax:0,ay:0,_clone:function(t,e){Animation.prototype._clone.call(this,t,e),t.ax=this.ax,t.ay=this.ay}},vs_utils$1.extendClass(SkewAnimation,Animation);var OpacityAnimation=function(t){this.parent=Animation,arguments.length?(this.parent(["opacity","${value}"]),vs_utils$1.isNumber(t)&&(this.value=t)):this.parent(),this.constructor=OpacityAnimation};OpacityAnimation.prototype={value:1,_clone:function(t,e){Animation.prototype._clone.call(this,t,e),t.value=this.value}},vs_utils$1.extendClass(OpacityAnimation,Animation),Animation.SlideOutRight=new Animation(["translateX","$width"]),Animation.SlideOutRight.addKeyFrame(0,["0px"]),Animation.SlideOutLeft=new Animation(["translateX","-$width"]),Animation.SlideOutLeft.addKeyFrame(0,["0px"]),Animation.SlideOutTop=new Animation(["translateY","-$height"]),Animation.SlideOutTop.addKeyFrame(0,["0px"]),Animation.SlideOutBottom=new Animation(["translateY","$height"]),Animation.SlideOutBottom.addKeyFrame(0,["0px"]),Animation.SlideInRight=new Animation(["translateX","0px"]),Animation.SlideInRight.addKeyFrame(0,["$width"]),Animation.SlideInLeft=new Animation(["translateX","0px"]),Animation.SlideInLeft.addKeyFrame(0,["-$width"]),Animation.SlideInTop=new Animation(["translateY","0px"]),Animation.SlideInTop.addKeyFrame(0,["-$height"]),Animation.SlideInBottom=new Animation(["translateY","0px"]),Animation.SlideInBottom.addKeyFrame(0,["$height"]),Animation.FadeIn=new Animation(["opacity","1"]),Animation.FadeIn.addKeyFrame(0,["0"]),Animation.FadeOut=new Animation(["opacity","0"]),Animation.FadeOut.addKeyFrame(0,["1"]);function PointerRecognizer(t){this.constructor=PointerRecognizer,this.delegate=t}var POINTER_LISTENERS=[];PointerRecognizer.prototype={addPointerListener:function(t,e,i,s){if(!t||!e||!i)return!1;for(var _,n=0,o=POINTER_LISTENERS.length;n<o;n++)if((_=POINTER_LISTENERS[n]).target===t&&_.type===e&&_.listener===i)return _.nb++,!0;return(_={}).target=t,_.type=e,_.listener=i,_.nb=1,POINTER_LISTENERS.push(_),vs_gesture.addPointerListener(t,e,i,s),!0},removePointerListener:function(t,e,i,s){if(!t||!e||!i)return!1;for(var _,n=0,o=POINTER_LISTENERS.length;n<o;n++)if((_=POINTER_LISTENERS[n]).target===t&&_.type===e&&_.listener===i)return _.nb--,0===_.nb&&(vs_gesture.removePointerListener(t,e,i,s),POINTER_LISTENERS.remove(n)),!0;return!1},init:function(t){this.obj=t},uninit:function(){},reset:function(){},pointerStart:function(t){},pointerMove:function(t){},pointerEnd:function(t){},pointerCancel:function(t){},gestureStart:function(t){},gestureChange:function(t){},gestureEnd:function(t){}};var RecognizerManager={handleEvent:function(t){if(this.__pointer_recognizers.length){if(!this._enable)return;switch(t.type){case vs_gesture.POINTER_START:this.__pointer_recognizers.forEach(function(e){e.pointerStart(t)});break;case vs_gesture.POINTER_MOVE:this.__pointer_recognizers.forEach(function(e){e.pointerMove(t)});break;case vs_gesture.POINTER_END:this.__pointer_recognizers.forEach(function(e){e.pointerEnd(t)});break;case POINTER_CANCEL:this.__pointer_recognizers.forEach(function(e){e.pointerCancel(t)});break;case vs_gesture.GESTURE_START:this.__pointer_recognizers.forEach(function(e){e.gestureStart(t)});break;case vs_gesture.GESTURE_CHANGE:this.__pointer_recognizers.forEach(function(e){e.gestureChange(t)});break;case vs_gesture.GESTURE_END:this.__pointer_recognizers.forEach(function(e){e.gestureEnd(t)})}}else this._propagateToParent&&this._propagateToParent(t)},__pointer_recognizers:null,addPointerRecognizer:function(t){!t instanceof PointerRecognizer||-1===this.__pointer_recognizers.indexOf(t)&&(this.__pointer_recognizers.push(t),t.init(this))},removePointerRecognizer:function(t){!t instanceof PointerRecognizer||(this.__pointer_recognizers.remove(t),t.uninit())}};function Template(t){this._str=t}Template.prototype={_str:null,_regexp_templ:/\$\{((([\w\-]+)(\.([\w\.]*)+)?)|@)\}/g,_regexp_index:/\$\{\*([\d]+)\*\}/g,_shadow_view:null,toString:function(){return this._str},compileView:function(t,e){this._shadow_view||(this._shadow_view=_pre_compile_shadow_view(this,t));var i=_instanciate_shadow_view(this._shadow_view,e);return i.__shadow_view=this._shadow_view,i.clone=_template_view_clone.bind(i),i._clone=_template_view__clone.bind(i),i},__extend_component:function(t){this._shadow_view||(this._shadow_view=_pre_compile_shadow_view(this));var e=this._shadow_view.__node.cloneNode(!0);return t.view=e,_instrument_component(t,this._shadow_view,e),t.__shadow_view=this._shadow_view,t.clone=_template_view_clone.bind(t),t._clone=_template_view__clone.bind(t),e},apply:function(t){if(!t)return this._str;return this._str.replace(this._regexp_templ,function(e,i,s,_,n,o){var r,a,l,h=t[i];if(n)for(a=1,l=(r=s.split(".")).length,h=t[r[0]];h&&a<l;)h=h[r[a++]];return h})}};function _resolveClass(t){if(!t)return null;for(var e=t.split("."),i=window;i&&e.length;)i=i[e.shift()];return i}var _template_view_clone=function(t,e){return t||(t={}),t.node=this.__shadow_view?this.__shadow_view.__node.cloneNode(!0):t.node?t.node:this.view.cloneNode(!0),vs_core.EventSource.prototype.clone.call(this,t,e)},_template_view__clone=function(t,e){View.prototype._clone.call(this,t,e),_instrument_component(t,this.__shadow_view,t.view),t.__shadow_view=this.__shadow_view,t.clone=_template_view_clone.bind(t),t._clone=_template_view__clone.bind(t)};function _instrument_component(obj,shadow_view,node){var _create_node_property=function(view,prop_name,nodes){var desc={},_prop_name="_"+vs_utils.underscore(prop_name);desc.set=function(nodes,prop_name,_prop_name){return function(v){var i=0,node,l=nodes.length,r;for(this[_prop_name]=v;i<l;i++)node=nodes[i],3===node.nodeType?node.data=v:2===node.nodeType&&(r=eval(node.__attr_eval_str),"value"==node.name&&"INPUT"==node.ownerElement.tagName?node.ownerElement.value=r:node.value=r);"_$_"==prop_name?this.propertyChange():this.propertyChange(prop_name)}}(nodes,prop_name,_prop_name),desc.get=(a314=_prop_name,function(){return this[a314]});var a314;view.defineProperty(prop_name,desc)},_create_iterate_property=function(t,e,i,s){var _={},n="_"+vs_utils.underscore(e);_.set=(o=e,r=n,a=i,l=s,function(t){if(vs_utils.isArray(t)){var e,i=0,s=t.length;for(this[r]=t,vs_utils.removeAllElementChild(l);i<s;i++)e=_instanciate_shadow_view(a,t[i]),l.appendChild(e.view);this.propertyChange(o)}});var o,r,a,l;_.get=(h=n,function(){return this[h]});var h;t.defineProperty(e,_)},_createPropertiesToObject=function(t,e,i){for(var s=[],_=e.__all_properties.length;_--;){var n=e.__all_properties[_],o=e.__prop_nodes[_];o&&(r=_getPaths(e.__node,o),a=_evalPaths(i,r),s.push([n,o]),_create_node_property(t,"@"===n?"_$_":n,a))}for(_=e.__all_properties.length;_--;){n=e.__all_properties[_];var r,a,l=e.__list_iterate_prop[n];if(l){const s=_getPath$1(e.__node,l.__parent_node),_=_evalPath$1(i,s);_create_iterate_property(t,n,l,_)}}t.__node__ref__=s};_createPropertiesToObject(obj,shadow_view,node)}function _instanciate_shadow_view(t,e){var i=t.__node.cloneNode(!0),s=new t.__class({node:i});return _instrument_component(s,t,i),s.init(),e&&s.configure(e),s.isProperty("_$_")&&(s._$_=e),s}function _pre_compile_shadow_view(t,e){var i={};i.__prop_nodes=[],i.__list_iterate_prop={},i.__all_properties=[],i.__class=_resolveClass(e),vs_utils.isFunction(i.__class)||(i.__class=View);t._regexp_templ.lastIndex=0;var s=t._str.replace(t._regexp_templ,function(t,e,s,_,n,o){var r=i.__all_properties.indexOf(e);return-1===r&&(r=i.__all_properties.length,i.__all_properties.push(e)),"${*"+r+"*}"});i.__node=Template.parseHTML(s);return function e(i,s){var _=i.getAttribute("data-iterate");if(_){var n=i.parentElement;n.removeChild(i),-1===s.__all_properties.indexOf(_)&&s.__all_properties.push(_);var o={};s.__list_iterate_prop[_]=o,o.__prop_nodes=[],o.__list_iterate_prop={},o.__parent_node=n,o.__node=i,o.__all_properties=s.__all_properties,o.__class=View,s=o}!function(e,i){if(e)for(var s=e.length;s--;){var _,n,o=e.item(s),r=o.value,a=[];if(t._regexp_index.lastIndex=0,_=t._regexp_index.exec(r)){for(;_;)n=parseInt(_[1],10),a.push(n),i.__prop_nodes[n]?i.__prop_nodes[n].push(o):i.__prop_nodes[n]=[o],_=t._regexp_index.exec(r);o.value="";for(var l=0;l<a.length;l++)n=a[l],r=r.replace("${*"+n+"*}",'"+this._'+vs_utils.underscore(i.__all_properties[n])+'+"');o.__attr_eval_str='"'+r+'"'}}}(i.attributes,s),function(s,_){if(s)for(var n=s.length;n--;){var o=s.item(n);if(3===o.nodeType){var r,a,l,h=o.data,u=0;for(t._regexp_index.lastIndex=0,o.data=" ",r=t._regexp_index.exec(h);r;)r.index&&(l=document.createTextNode(h.substring(u,r.index)),i.insertBefore(l,o)),a=parseInt(r[1],10),_.__prop_nodes[a]?_.__prop_nodes[a].push(o):_.__prop_nodes[a]=[o],u=r.index+r[0].length,(r=t._regexp_index.exec(h))&&(l=document.createTextNode(" "),o.nextSibling?i.insertBefore(l,o.nextSibling):i.appendChild(l),o=l);var d=h.substring(u);d&&(l=document.createTextNode(d),o.nextSibling?i.insertBefore(l,o.nextSibling):i.appendChild(l))}else 1===o.nodeType&&e(o,_)}}(i.childNodes,s)}(i.__node,i),i}var _getPaths=function(t,e){for(var i,s=[],_=0,n=e.length;_<n;_++)i=e[_],s.push([_getPath$1(t,i),i.__attr_eval_str]);return s},_getPath$1=function(t,e,i){var s=1;if(i=i||[],2===e.nodeType)return e.ownerElement&&(i=_getPath$1(t,e.ownerElement,i)),i.push([2,e.nodeName.toLowerCase()]),i;if(t===e)return i;e.parentNode&&(i=_getPath$1(t,e.parentNode,i));for(var _=e.previousSibling;_;)1!==_.nodeType&&3!==_.nodeType||_.nodeName!=e.nodeName||s++,_=_.previousSibling;return i.push([1,e.nodeName.toLowerCase(),s]),i},_evalPaths=function(t,e){for(var i,s,_=[],n=0,o=e.length;n<o;n++)i=e[n],(s=_evalPath$1(t,i[0])).__attr_eval_str=i[1],_.push(s);return _},_evalPath$1=function(t,e){if(!e||!e.length||!t)return t;var i,s,_,n,o,r=e.shift(),a=r[0],l=r[1];if(2===a){for(s=(i=t.attributes).length;s--;)if((_=i.item(s)).nodeName.toLowerCase()==l)return _;return null}if(1===a)for(n=t.firstChild,s=r[2],o=1;n;){if(n.nodeName.toLowerCase()===l){if(s===o)return _evalPath$1(n,e);o++}n=n.nextSibling}return null};Template.parseHTML=function(t){var e=document.createElement("div");try{vs_utils.safeInnerHTML(e,t),(e=e.firstElementChild)&&e.parentElement.removeChild(e)}catch(t){return console.error("vs.ui.Template.parseHTML failed:"),t.stack&&console.log(t.stack),void console.error(t)}return e};var html_template='<div class="vs_ui_view" x-hag-hole="children"></div>';function _findNodeRef(t,e){if(!t.getAttribute)return!1;if(t.getAttribute("x-hag-ref")===e)return t;if(t.getAttribute("x-hag-comp")===e)return t;for(var i,s=t.firstElementChild;s;){if(i=_findNodeRef(s,e))return i;s=s.nextElementSibling}return!1}function View(t){this.parent=vs_core$1__default.EventSource,this.parent(t),this.constructor=View,this.__pointer_recognizers=[],this._pos=[-1,-1],this._size=[-1,-1],this._translation=[0,0,0],this._rotation=[0,0,0],this._transform_origin=[0,0],this._autosizing=[4,4]}View.DEFAULT_LAYOUT=null,View.HORIZONTAL_LAYOUT="horizontal",View.LEGACY_HORIZONTAL_LAYOUT="horizontal_layout",View.VERTICAL_LAYOUT="vertical",View.LEGACY_VERTICAL_LAYOUT="vertical_layout",View.ABSOLUTE_LAYOUT="absolute",View.LEGACY_ABSOLUTE_LAYOUT="absolute_layout",View.FLOW_LAYOUT="flow",View.LEGACY_FLOW_LAYOUT="flow_layout",View.MOVE_THRESHOLD=20,View.MAGNET_NONE=0,View.MAGNET_LEFT=3,View.MAGNET_BOTTOM=2,View.MAGNET_TOP=1,View.MAGNET_RIGHT=4,View.MAGNET_CENTER=5,View.NON_G_OBJECT="_non_g_object",View.ANY_PLACE="children",View._positionStyle=void 0,View.__comp_templates={},View._propagate_pointer_event=function(t,e,i){var s="";i.type===vs_gesture.POINTER_START&&(s="POINTER_START"),i.type===vs_gesture.POINTER_END&&(s="POINTER_END"),i.type===vs_gesture.POINTER_MOVE&&(s="POINTER_MOVE"),i.type=s,e.call(t,i)};var _template_nodes=null;View.prototype={html_template:html_template,_visible:!0,_magnet:View.MAGNET_NONE,_autosizing:null,_pointerevent_handlers:null,_enable:!0,_pos:null,_translation:null,_size:null,_opacity:1,_scaling:1,_rotation:null,_min_scale:.5,_max_scale:3,_layout:null,_transform_origin:null,_transforms_stack:null,_show_animation:null,__show_clb:null,_hide_animation:null,__hide_clb:null,destructor:function(){var t,e,i,s;this.__parent&&this.__parent.remove(this);for(t in this.__children)if(e=this.__children[t]){if(e instanceof Array)for(i=0;i<e.length;i++)s=e[i],vs_utils$1__default.free(s);else vs_utils$1__default.free(e);delete this.__children[t]}this.__children={},delete this.view,this.clearTransformStack(),vs_core$1__default.EventSource.prototype.destructor.call(this)},refresh:function(){var t,e,i,s,_=this.view;_&&_.parentElement&&(this._size[0]=_.offsetWidth,this._size[1]=_.offsetHeight,this._pos[0]=_.offsetLeft,this._pos[1]=_.offsetTop);for(t in this.__children)if(e=this.__children[t])if(e instanceof Array)for(i=0;i<e.length;i++)(s=e[i])&&s.refresh&&s.refresh();else e.refresh&&e.refresh()},clone:function(t,e){function i(t,e){var i=t.view.cloneNode(!0),s=[];function _(t){t.__gui_object__hack_view__?s.push(t.__gui_object__hack_view__):t.view&&s.push(t.view),n(t)}function n(t){var e,i,s,n;for(e in t.__children)if(i=t.__children[e])if(vs_utils$1__default.isArray(i))for(n=i.length,s=0;s<n;s++)_(i[s]);else _(i)}return n(t),function(t,e,i){for(var s,_=0,n=e.length;_<n;_++)(s=e[_]).id||(s.id=vs_core$1__default.createId()),i[s[0].id]=_evalPath(t,s[1])}(i,function(t,e){for(var i,s=[],_=0,n=e.length;_<n;_++)i=e[_],s.push([i,_getPath(t,i)]);return s}(t.view,s),e),i}if(e||(e={}),e.__views__||(e.__views__={}),t||(t={}),!t.node){var s=e.__views__[this.view.id];s||(s=i(this,e.__views__)),t.node=s}return vs_core$1__default.EventSource.prototype.clone.call(this,t,e)},_clone_properties_value:function(t,e){var i;for(i in this)if("id"!=i){if("size"==i||"position"==i){var s=this.size;if(!s||3!==s.length||0===s[0]&&0===s[1])continue}this.isProperty(i)&&vs_core$1__default.VSObject.__propertyCloneValue(i,this,t)}},_clone:function(t,e){var i,s,_,n,o,r,a;vs_core$1__default.EventSource.prototype._clone.call(this,t,e),this._show_animation&&(i=e[this._show_animation._id],t._show_animation=i||this._show_animation.clone(),t.__show_clb=this.__show_clb),this._hide_animation&&(i=e[this._hide_animation._id],t._hide_animation=i||this._hide_animation.clone(),t.__hide_clb=this.__hide_clb),t.__parent=void 0;function l(t,e){if(!t||!e)return null;if(e[t._id])return e[t._id];var i=e.__views__[t._id];return i?i._comp_:null}for(_ in this.__children)if(s=this.__children[_],r=t._holes[_],s&&r)if(s instanceof Array)for(o=s.length;o--;)(a=l(n=s[o],e))?e[n._id]=a:(a=n.clone(null,e),t.add(a,_));else(a=l(s,e))?e[s._id]=a:(a=s.clone(null,e),t.add(a,_))},_getGUInode:function(t){var e;if(_=this.__getGUInode(t))return _;var i=t.template?t.template:this.template;if(i){var s=new Template(i),_=s.__extend_component(this);return vs_utils$1__default.free(s),_}return this.html_template&&(_=Template.parseHTML(this.html_template))?_:(e=vs_utils$1__default.isFunction(this.constructor)?this.constructor.name:vs_utils$1__default.isString(this.constructor)?this.constructor:View,console.warn("Impossible to instance view of component '"+e+", id ["+t.id+"]. A default one is created"),_=document.createElement("div"))},__getGUInode:function(t){if(t.node)return t.node;var e,i,s,_,n,o=null;return t.node_id&&(o=document.getElementById(t.node_id))?o:(e=t.node_ref)&&((n=View._ref_template_reg.exec(e))&&3==n.length?(i=n[1],e=n[2]):i=t.root_ref,e&&i&&(s=null,(s=(_=vs_core$1__default.VSObject._obs[i])&&_.view?_.view:document.getElementById(this.id))&&(o=_findNodeRef(s,e)),o))?o:t.template_ref&&(o=this._getTemplateNode(t.template_ref))?o:t.id&&(o=document.getElementById(t.id))?o:void 0},_getTemplateNode:function(t){var e=null;if(_template_nodes||(_template_nodes=document.querySelector(".application_templates"))&&_template_nodes.parentElement.removeChild(_template_nodes),_template_nodes)e=_template_nodes.querySelector("."+t);if(e)return document.importNode(e,!0)},initComponent:function(){vs_core$1__default.EventSource.prototype.initComponent.call(this),this._holes={},this.__children={},this._pointerevent_handlers=[],this.__config__||(this.__config__={}),this.__config__.id=this.id,this.view=this._getGUInode(this.__config__),this.view?(this.view.id=this._id,this.view._comp_=this,this.view.setAttribute("x-hag-comp",this.id),this._parse_view(this.view)):console.error("vs.ui.View constructor failed. No view!")},componentDidInitialize:function(){vs_core$1__default.EventSource.prototype.componentDidInitialize.call(this),this._magnet&&this.view.style.setProperty("position","absolute",null),this._magnet===View.MAGNET_CENTER&&(this._updateSizeAndPos(),this._applyTransformation())},viewDidAdd:function(){var t=this.view,e=this;t&&t.parentElement&&vs_core$1__default.scheduleAction(function(){e._size[0]=t.offsetWidth,e._size[1]=t.offsetHeight,e._pos[0]=t.offsetLeft,e._pos[1]=t.offsetTop})},notify:function(t){},_parse_view:function(t){if(t&&3!==t.nodeType){var e,i;if(null!==t.attributes&&(e=t.attributes.getNamedItem("x-hag-hole")))this._holes[e.nodeValue]=t;else for(i=t.firstElementChild;i;)this._parse_view(i),i=i.nextElementSibling}},createAndAddComponent:function(t,e,i){var s=window[t];if(s){e||(e={}),e.id||(e.id=vs_core$1__default.createId());var _,n,o,r,a,l=this.__getGUInode(e);if(l||(l=this._getTemplateNode(t)),l||s.prototype&&s.prototype.template&&(l=Template.parseHTML(s.prototype.template)),l||s.prototype&&s.prototype.node_template&&(l=document.importNode(s.prototype.node_template,!0)),!l){if(_=t+".xhtml",!(n=View.__comp_templates[_])){if((o=new XMLHttpRequest).open("GET",_,!1),o.send(null),4!==o.readyState)return void console.error("Pb when load the component '"+t+"' template.");if(200!==o.status&&0!==o.status)return void console.error("Template file for component '"+t+"' unfound.");n=o.responseText,View.__comp_templates[_]=n,o=null}l=Template.parseHTML(n)}e.node=l,r=null;try{r=new s(e)}catch(e){return a="Impossible to instanciate comp: "+t,a+=" => "+e.message,console.error(a),void(e.stack&&console.error(e.stack))}try{r.init(),r.configure(e)}catch(e){e.line&&e.sourceURL?(a="Error when initiate comp: "+t,a+=" => "+e.message,a+="\n"+e.sourceURL+":"+e.line):a=e,console.error(a),e.stack&&console.error(e.stack)}return this.add(r,i),r.refresh(),r}console.error("Impossible to fund component '"+t+"'.")},isChild:function(t){if(!t)return!1;var e,i;for(e in this.__children)if((i=this.__children[e])&&(i===t||i instanceof Array&&-1!==i.indexOf(t)))return!0;return!1},add:function(t,e,i){if(t&&(i?t.__gui_object__hack_view__=i:i=t.view,!this.isChild(t))){var s,_,n,o;if(s=i?e||View.ANY_PLACE:View.NON_G_OBJECT,(_=this.__children[s])&&vs_utils$1__default.isArray(_)?_.push(t):_?((n=[]).push(_),n.push(t),this.__children[s]=n):this.__children[s]=t,o=this._holes[s],i&&o){if(i.parentElement){if(i.parentElement===o)return t.__parent=this,void(t.viewDidAdd&&t.viewDidAdd());i.parentElement.removeChild(i)}o.appendChild(i),t.__parent=this,t.viewDidAdd&&t.viewDidAdd()}}},remove:function(t){if(t){var e,i,s;if(s=t.__gui_object__hack_view__?t.__gui_object__hack_view__:t.view)for(e in this.__children)if((i=this.__children[e])&&(i===t||i instanceof Array&&-1!==i.indexOf(t))){i instanceof Array?i.remove(t):delete this.__children[e],s.parentElement&&s.parentElement.removeChild(s),t.__parent=null;break}}},removeAllChildren:function(t,e){var i,s=this,_=[];function n(e){var i,n;if(i=s.__children[e]){if(i instanceof Array)for(;i.length;)n=i[0],s.remove(n),t?vs_utils$1__default.free(n):_.push(n);else s.remove(i),t?vs_utils$1__default.free(i):_.push(i);delete s.__children[e]}}if(e)n(e);else{for(i in s.__children)n(i);this.__children={}}return t?void 0:_},findNodeRef:function(t){if(this.view)return _findNodeRef(this.view,t)},bind:function(t,e,i,s){if("POINTER_START"===t||"POINTER_END"===t||"POINTER_MOVE"===t||t===vs_gesture.POINTER_START||t===vs_gesture.POINTER_END||t===vs_gesture.POINTER_MOVE){if(!this.view)return;var _,n,o=this;if(i||(i="notify"),vs_utils$1__default.isFunction(i))_=i;else{if(!vs_utils$1__default.isString(i)||!vs_utils$1__default.isFunction(e[i]))return void console.error("Invalid bind arguments.");_=e[i]}if(!_)return void console.warn("Invalid bind arguments. Unknown func: "+i);o=this;n=function(t){if(!(vs_core$1__default.EVENT_SUPPORT_TOUCH&&t.changedTouches&&t.changedTouches.length>1)){if(t.src=o,vs_core$1__default.EVENT_SUPPORT_TOUCH&&t.changedTouches){t.pageX=t.changedTouches[0].pageX,t.pageY=t.changedTouches[0].pageY;var i=vs_utils$1__default.getElementAbsolutePosition(o.view);t.offsetX=t.changedTouches[0].pageX-i.x,t.offsetY=t.changedTouches[0].pageY-i.y}View._propagate_pointer_event(e,_,t)}},"POINTER_START"===t&&(t=vs_gesture.POINTER_START),"POINTER_MOVE"===t&&(t=vs_gesture.POINTER_MOVE),"POINTER_END"===t&&(t=vs_gesture.POINTER_END),this._pointerevent_handlers[e.id+t]=n,vs_gesture.addPointerListener(this.view,t,n)}return vs_core$1__default.EventSource.prototype.bind.call(this,t,e,i,s)},unbind:function(t,e){if(t&&e){if(t===vs_gesture.POINTER_START||t===vs_gesture.POINTER_END||t===vs_gesture.POINTER_MOVE){var i=this._pointerevent_handlers[e.id+t];if(!i||!this.view)return;vs_gesture.removePointerListener(this.view,vs_gesture.POINTER_END,i)}vs_core$1__default.EventSource.prototype.unbind.call(this,t,e)}},_setMagnet:function(t){this._magnet=t,this._magnet?this.view.style.setProperty("position","absolute",null):this.view.style.removeProperty("position"),this._updateSizeAndPos(),this._applyTransformation()},_updateSizeAndPos:function(){var t,e,i,s,_=this._pos[0],n=this._pos[1],o=this._size[0],r=this._size[1],a=0,l=0,h="auto",u="auto",d="auto",c="auto",v=this._autosizing[0],p=this._autosizing[1],f=this.view;f&&((i=f.parentElement)&&(a=i.offsetWidth,l=i.offsetHeight),this._magnet===View.MAGNET_LEFT&&(_=0),this._magnet===View.MAGNET_TOP&&(n=0),t=o<0?"":5===v||7===v?"auto":4===v||1===v?o+"px":2===v||3===v||6===v||0===v?a?o/a*100+"%":o+"px":"100%",e=r<0?"":5===p||7===p?"auto":4===p||1===p?r+"px":2===p||3===p||6===p||0===p?l?r/l*100+"%":r+"px":"100%",4===v||5===v||6===v||7===v||2===v&&!a?h=_+"px":2!==v&&0!==v||!a||(h=_/a*100+"%"),o>=0&&(1===v||3===v||5===v||7===v)&&((d=a-(_+o))<0&&(d=0),d+="px"),4===p||5===p||6===p||7===p||2===p&&!l?u=n+"px":2!==p&&0!==p||!l||(u=n/l*100+"%"),r>=0&&(1===p||3===p||5===p||7===p)&&((c=l-(n+r))<0&&(c=0),c+="px"),this._magnet===View.MAGNET_BOTTOM&&(u="auto",c="0px"),this._magnet===View.MAGNET_RIGHT&&(h="auto",d="0px"),this._magnet===View.MAGNET_CENTER&&(u="50%",c="auto",h="50%",d="auto"),(s=f.style).left=h,s.right=d,s.top=u,s.bottom=c,s.width=t,s.height=e)},getStyle:function(t){if(this.view){var e,i=this.view.style;return i&&(e=i[t]),"opacity"===t?e?parseFloat(e):1:"auto"===e?null:e}},getComputedStyle:function(t){var e=this._getComputedStyle(this.view);return value=e?e[t]:null},_getComputedStyle:function(t){if(t||(t=this.view),t){var e=t.ownerDocument;if(e&&e.defaultView||(e=document),e&&e.defaultView)return e.defaultView.getComputedStyle(t,null)}},setStyle:function(t,e){t&&this.view&&this.view.style&&this.view.style.removeProperty&&this.view.style.setProperty&&(void 0===e?this.view.style.removeProperty(t):(vs_utils$1__default.isNumber(e)&&(e=""+e),this.view.style.setProperty(t,e,null)))},setStyles:function(t){t&&this.view&&this.view.style&&vs_utils$1__default.setElementStyle(this.view,t)},addCssRules:function(t,e){vs_utils$1__default.addCssRules("#"+this._id+" "+t,e)},addCssRule:function(t,e){vs_utils$1__default.addCssRule("#"+this._id+" "+t,e)},redraw:function(t){if(this.view){var e=this.view,i=e.style.display,s=this;e.style.display="none",vs_core$1__default.scheduleAction(function(){i?e.style.display=i:e.style.removeProperty("display"),vs_core$1__default.scheduleAction(function(){s.refresh(),t&&vs_utils$1__default.isFunction(t)&&t.call(s)})})}},show:function(t){this.view&&(this._visible||(vs_utils$1__default.isFunction(t)||(t=void 0),this.__view_display?this.view.style.display=this.__view_display:this.view.style.removeProperty("display"),this.__view_display=void 0,this.__is_hidding=!1,this.__is_showing=!0,this._show_animation?this._show_animation.process(this,function(){this._show_object(t)},this):this._show_object(t)))},_show_object:function(t){if(this.view&&(this.__visibility_anim=void 0,this.__is_showing)){this.__is_showing=!1,this._visible=!0;var e=this;this.propertyChange(),(this.__show_clb||t)&&(this._show_animation?(this.__show_clb&&this.__show_clb.call(this),t&&t.call(this)):(this.__show_clb&&vs_core$1__default.scheduleAction(function(){e.__show_clb.call(e)}),t&&vs_core$1__default.scheduleAction(function(){t.call(e)})))}},setShowAnimation:function(t,e,i){if(void 0===t||null===t)this._show_animation=null;else{if(t instanceof Animation)this._show_animation=t.clone();else{if(!vs_utils$1__default.isArray(t))return void console.warn("vs.ui.View.setShowAnimation invalid parameters!");this._show_animation=new Animation,this._show_animation.setAnimations(t)}e&&(e.duration&&(this._show_animation.duration=e.duration),e.timing&&(this._show_animation.timing=e.timing),e.origin&&(this._show_animation.origin=e.origin),e.iterationCount&&(this._show_animation.iterationCount=e.iterationCount),e.delay&&(this._show_animation.delay=e.delay))}vs_utils$1__default.isFunction(i),this.__show_clb=i},hide:function(t){this.view&&(this._visible||this.__is_showing)&&(vs_utils$1__default.isFunction(t)||(t=void 0),this._visible=!1,this.__is_showing=!1,this.__is_hidding=!0,this._hide_animation?this._hide_animation.process(this,function(){this._hide_object(t)},this):this._hide_object(t))},_hide_object:function(t){this.view&&!this._visible&&(this.__visibility_anim=void 0,this.__is_hidding&&(this.__is_hidding=!1,this.view.style.display?(this.__view_display=this.view.style.display,"none"===this.__view_display&&(this.__view_display=void 0)):this.__view_display=void 0,this.view.style.display="none",(this.__hide_clb||t)&&(this._show_animation?(this.__hide_clb&&this.__hide_clb.call(this),t&&t.call(this)):(this.__hide_clb&&vs_core$1__default.scheduleAction(function(){self.__hide_clb.call(self)}),t&&vs_core$1__default.scheduleAction(function(){t.call(self)}))),this.propertyChange()))},setHideAnimation:function(t,e,i){if(void 0===t||null===t)this._hide_animation=null;else{if(t instanceof Animation)this._hide_animation=t.clone();else{if(!vs_utils$1__default.isArray(t))return void console.warn("vs.ui.View.setHideAnimation invalid parameters!");this._hide_animation=new Animation,this._hide_animation.setAnimations(t)}e&&(e.duration&&(this._hide_animation.duration=e.duration),e.timing&&(this._hide_animation.timing=e.timing),e.origin&&(this._hide_animation.origin=e.origin),e.iterationCount&&(this._hide_animation.iterationCount=e.iterationCount),e.delay&&(this._hide_animation.delay=e.delay))}vs_utils$1__default.isFunction(i),this.__hide_clb=i},setVisible:function(t){this.view&&vs_utils$1__default.setElementVisibility(this.view,t)},hasClassName:function(t){return!!this.view&&vs_utils$1__default.hasClassName(this.view,t)},addClassName:function(){if(this.view){var t=Array.prototype.slice.call(arguments);t.unshift(this.view),vs_utils$1__default.addClassName.apply(this.view,t)}},removeClassName:function(t){if(this.view){var e=Array.prototype.slice.call(arguments);e.unshift(this.view),vs_utils$1__default.removeClassName.apply(this.view,e)}},toggleClassName:function(t){this.view&&vs_utils$1__default.isString(t)&&vs_utils$1__default.toggleClassName(this.view,t)},_propagateToParent:function(t){this._bubbling&&this.__parent&&this.__parent.handleEvent&&this.__parent.handleEvent(t)},notifyToParent:function(t){this.__parent&&(this.__parent.handleEvent?this.__parent.handleEvent(t):this.__parent.notify&&this.__parent.notify(t))},_didEnable:function(){},animate:function(t,e,i){if(t instanceof Animation)s=t;else{if(!vs_utils$1__default.isArray(t))return void console.warn("vs.ui.View.animate invalid parameters!");var s;(s=new Animation).setAnimations(t)}return e&&(e.duration&&(s.duration=e.duration),e.timing&&(s.timing=e.timing),e.origin&&(s.origin=e.origin),e.iterationCount&&(s.iterationCount=e.iterationCount),e.delay&&(s.delay=e.delay)),s.process(this,i,this)},translate:function(t,e,i){vs_utils$1__default.isNumber(t)&&vs_utils$1__default.isNumber(e)&&(vs_utils$1__default.isNumber(i)||(i=0),this._translation[0]=t,this._translation[1]=e,this._translation[2]=i,this._applyTransformation())},rotate:function(t){vs_utils$1__default.isNumber(t)?(this._rotation[0]=0,this._rotation[1]=0,this._rotation[2]=t):vs_utils$1__default.isArray(t)&&(vs_utils$1__default.isNumber(t[0])?this._rotation[0]=t[0]:this._rotation[0]=0,vs_utils$1__default.isNumber(t[1])?this._rotation[1]=t[1]:this._rotation[1]=0,vs_utils$1__default.isNumber(t[2])?this._rotation[2]=t[2]:this._rotation[2]=0),this._applyTransformation()},scale:function(t){vs_utils$1__default.isNumber(t)&&(t>this._max_scale&&(t=this._max_scale),t<this._min_scale&&(t=this._min_scale),this._scaling!==t&&(this._scaling=t,this._applyTransformation()))},setNewTransformOrigin:function(t){t&&vs_utils$1__default.isNumber(t.x)&&vs_utils$1__default.isNumber(t.y)&&(this.flushTransformStack(),this._transform_origin[0]=t.x,this._transform_origin[1]=t.y)},flushTransformStack:function(){var t=new vs_utils$1__default.CSSMatrix;t=(t=(t=(t=(t=t.translate(this._transform_origin[0],this._transform_origin[1],0)).translate(this._translation[0],this._translation[1],this._translation[2])).rotate(this._rotation[0],this._rotation[1],this._rotation[2])).scale(this._scaling,this._scaling,1)).translate(-this._transform_origin[0],-this._transform_origin[1],0),this._transforms_stack||(this._transforms_stack=t),this._transforms_stack=t.multiply(this._transforms_stack),this._translation[0]=0,this._translation[1]=0,this._translation[2]=0,this._scaling=1,this._rotation[0]=0,this._rotation[1]=0,this._rotation[2]=0,this._transform_origin[0]=0,this._transform_origin[1]=0},pushNewTransform:function(t){t&&(this._transforms_stack?this._transforms_stack=t.multiply(this._transforms_stack):this._transforms_stack=t)},clearTransformStack:function(){this._transforms_stack&&delete this._transforms_stack,this._transforms_stack=void 0},getCTM:function(){var t,e=new vs_utils$1__default.CSSMatrix;return t=(t=(t=(t=e.translate(this._transform_origin[0]+this._translation[0],this._transform_origin[1]+this._translation[1],this._translation[2])).multiply(e.rotate(this._rotation[0],this._rotation[1],this._rotation[2]))).scale(this._scaling,this._scaling,1)).translate(-this._transform_origin[0],-this._transform_origin[1],0),this._transforms_stack?t.multiply(this._transforms_stack):t},getParentCTM:function(){return function t(e){return e?t(e.__parent).multiply(e.getCTM()):new vs_utils$1__default.CSSMatrix}(this.__parent)},_applyTransformation:function(){var t=this.getCTM().getMatrix3dStr();this._magnet===View.MAGNET_CENTER&&(t+=" translate(-50%,-50%)"),vs_utils$1__default.setElementTransform(this.view,t)}},vs_utils$1__default.extend(View.prototype,RecognizerManager),vs_utils$1__default.extendClass(View,vs_core$1__default.EventSource),vs_utils$1__default.defineClassProperties(View,{size:{set:function(t){vs_utils$1__default.isArray(t)&&2===t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(this._size[0]=t[0],this._size[1]=t[1],this.view&&this._updateSizeAndPos())},get:function(){return this._size.slice()}},position:{set:function(t){t&&vs_utils$1__default.isArray(t)&&2==t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(this._pos[0]=t[0],this._pos[1]=t[1],this.view&&this._updateSizeAndPos())},get:function(){return this._pos.slice()}},autosizing:{set:function(t){t&&vs_utils$1__default.isArray(t)&&2==t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(this._autosizing[0]===t[0]&&this._autosizing[1]===t[1]||(this._autosizing[0]=t[0],this._autosizing[1]=t[1],this.view&&this._updateSizeAndPos()))}},magnet:{set:function(t){this._magnet!==t&&(!vs_utils$1__default.isNumber(t)||t<0||t>5||this._setMagnet(t))}},visible:{set:function(t){t?this.show():this.hide()},get:function(){return this._visible}},bubbling:{set:function(t){this._bubbling=!!t}},enable:{set:function(t){t&&!this._enable?(this._enable=!0,this.removeClassName("disabled"),this._didEnable()):!t&&this._enable&&(this._enable=!1,this.addClassName("disabled"),this._didEnable())},get:function(){return this._enable}},opacity:{set:function(t){vs_utils$1__default.isNumber(t)&&(t<0||t>1||(this.view&&(this.view.style.opacity=t),this._opacity=t))}},translation:{set:function(t){vs_utils$1__default.isArray(t)&&this.translate(t[0],t[1],t[2])},get:function(){return this._translation.slice()}},rotation:{set:function(t){this.rotate(t)},get:function(){return this._rotation.slice}},scaling:{set:function(t){this.scale(t)},get:function(){return this._scaling}},minScale:{set:function(t){vs_utils$1__default.isNumber(t)&&(this._min_scale=t,this._scaling<this._min_scale&&this.scale(this._min_scale))},get:function(){return this._min_scale}},maxScale:{set:function(t){vs_utils$1__default.isNumber(t)&&(this._max_scale=t,this._scaling>this._max_scale&&this.scale(this._max_scale))},get:function(){return this._max_scale}},transformOrigin:{set:function(t){vs_utils$1__default.isArray(t)&&2===t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(this._transform_origin[0]=t[0],this._transform_origin[1]=t[1])},get:function(){return this._transform_origin.slice()}},showAnimmation:{set:function(t){this.setShowAnimation(t)}},hideAnimation:{set:function(t){this.setHideAnimation(t)}},layout:{set:function(t){t!==View.HORIZONTAL_LAYOUT&&t!==View.DEFAULT_LAYOUT&&t!==View.ABSOLUTE_LAYOUT&&t!==View.VERTICAL_LAYOUT&&t!==View.FLOW_LAYOUT&&t!==View.LEGACY_HORIZONTAL_LAYOUT&&t!==View.LEGACY_ABSOLUTE_LAYOUT&&t!==View.LEGACY_VERTICAL_LAYOUT&&t!==View.LEGACY_FLOW_LAYOUT&&t?console.error("Unsupported layout '"+t+"'!"):(this._layout&&this.removeClassName(this._layout),t&&-1===t.indexOf("_layout")?this._layout=t+"_layout":this._layout=t,this._layout&&this.addClassName(this._layout))}},innerHTML:{set:function(t){this.view&&vs_utils$1__default.safeInnerHTML(this.view,t)}}}),View._ref_template_reg=/(\w+)#(\w+)/;function getDeviceCSSCode(){var t,e=document.createElement("div");return e.className="device_test",document.body.appendChild(e),t=document.defaultView.getComputedStyle(e,null).getPropertyValue("margin-top"),document.body.removeChild(e),parseInt(t||0,10)}View.getDeviceCSSCode=getDeviceCSSCode;var Application=function(t){this._layout=void 0,this.parent=View,this.parent(t),this.constructor=Application};Application.CSS_DEFAULT=0,Application.CSS_IOS=5,Application.CSS_ANDROID=9,Application.CSS_MEEGO=10,Application.CSS_WP7=6,Application.CSS_SYMBIAN=8,Application.CSS_BLACKBERRY=7,Application.CSS_PURE=100,Application.CSS_FLAT=101,Application.CSS_HOLO=102,Application.CSS_IOS7=103,Application._applications={};var ORIENTATION_CHANGE_EVT="onorientationchange"in window?"orientationchange":"resize";Application.prototype={_prevent_scroll:!0,initComponent:function(){if(Application._applications[this.id]=this,View.prototype.initComponent.call(this),this.preventScroll=!0,this.view instanceof HTMLHtmlElement){var t=this.view;if(t._comp_=void 0,this.view=t.querySelector("body"),!this.view)return void console.error("Invalid Application view");this.view._comp_=this,t.removeAttribute("id"),t.removeAttribute("x-hag-ref"),t.removeAttribute("x-hag-comp")}this.view.setAttribute("id",this.id),this.view.setAttribute("x-hag-ref",this.id),this.view.setAttribute("x-hag-comp",this.id);var e=this;window.addEventListener(ORIENTATION_CHANGE_EVT,function(t){var i=window.orientation;vs_utils$1__default.isNumber(i)||(i=window.outerWidth>=window.outerHeight?90:0);var s=window.deviceConfiguration.setOrientation(i);s&&e.propagate("deviceChanged",s,null,!0)})},exit:function(){Application.exit()},applicationStarted:function(){},_updateSizeAndPos:function(){this.view.style.width=this._size[0]+"px",this.view.style.height=this._size[1]+"px",this.view.style.right="auto",this.view.style.bottom="auto",this.view.style.left=this._pos[0]+"px",this.view.style.top=this._pos[1]+"px",this.view.style.right="auto",this.view.style.bottom="auto"},setActiveStyleSheet:function(t){Application.setActiveStyleSheet(t),this.propagate("deviceChanged",t,null,!0)},orientationWillChange:function(t){},buildDataflow:function(){vs_core$1__default.DataFlow._default_df_.build()},loadScript:function(t){var e=this;vs_utils$1__default.importFile(t,document,function(t){t&&e.propagate("scriptloaded",t)},"js")},loadCSS:function(t){var e=this;vs_utils$1__default.importFile(t,document,function(t){t&&e.propagate("cssloaded",t)},"css")}},vs_utils$1__default.extendClass(Application,View),vs_utils$1__default.defineClassProperties(Application,{size:{set:function(t){t&&vs_utils$1__default.isArray(t)&&2===t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(this._size[0]=t[0],this._size[1]=t[1],this.view&&(this._updateSizeAndPos(),window.resizeTo(this._size[0],this._size[1])))},get:function(){return this.view&&this.view.parentNode&&(this._size[0]=this.view.offsetWidth,this._size[1]=this.view.offsetHeight),this._size.slice()}},preventScroll:{set:function(t){t?(this._prevent_scroll=!0,document.preventScroll=t):(this._prevent_scroll=!1,document.preventScroll=t)},get:function(){return this._prevent_scroll=document.preventScroll,this.__prevent_scroll}}}),Application.exit=function(){window.close&&window.close()},Application.configureDevice=function(){function t(){var t=window.target_css?window.target_css[window.deviceConfiguration.targetId]:"";t||(t="default");function e(t,e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t),i.setAttribute("media","screen"),e?document.head.insertBefore(i,e):document.head.appendChild(i)}for(var i,s=document.head.querySelectorAll("link"),_=0;_<s.length;_++){if(-1!==(i=s.item(_)).getAttribute("href").indexOf("vs_ui.css")){i=i.nextElementSibling;break}i=null}if("default"==t)switch(window.deviceConfiguration.os){case vs_core$1__default.DeviceConfiguration.OS_IOS:e("lib/css/vs_ui_ios.css",i);break;case vs_core$1__default.DeviceConfiguration.OS_ANDROID:e("lib/css/vs_ui_android.css",i)}else e("lib/css/vs_ui_"+t+".css",i)}var e,i,s=window.deviceConfiguration.generateDeviceId(!0);if(window.deviceConfiguration.deviceId=s,window.deviceConfiguration.virtualScreenSize=null,window.target_device_ids)for(e in window.target_device_ids){if(-1!==window.target_device_ids[e].indexOf(s))return window.deviceConfiguration.targetId=e,window.deviceConfiguration.setOrientation(window.orientation||0,!0),void t()}return deviceConfiguration.screenSize===vs_core$1__default.DeviceConfiguration.SS_4_INCH&&(e="phone3_4"),deviceConfiguration.screenSize===vs_core$1__default.DeviceConfiguration.SS_7_INCH&&(e="tablet7"),deviceConfiguration.screenSize===vs_core$1__default.DeviceConfiguration.SS_10_INCH&&(e="phone10"),0!==deviceConfiguration.orientation&&90!==deviceConfiguration.orientation||(e+="_p"),180!==deviceConfiguration.orientation&&-180!==deviceConfiguration.orientation||(e+="_l"),window.target_device_ids&&window.target_device_ids[e]?(window.deviceConfiguration.targetId=e,window.deviceConfiguration.setOrientation(window.orientation||0,!0),void t()):(i=getScreenSize(vs_core$1__default.DeviceConfiguration.SS_7_INCH),deviceConfiguration.screenSize===vs_core$1__default.DeviceConfiguration.SS_10_INCH&&(e="tablet7"),0!==deviceConfiguration.orientation&&90!==deviceConfiguration.orientation||(e+="_p"),180!==deviceConfiguration.orientation&&-180!==deviceConfiguration.orientation||(e+="_l"),window.target_device_ids&&window.target_device_ids[e]?(window.deviceConfiguration.targetId=e,window.deviceConfiguration.virtualScreenSize=i,window.deviceConfiguration.setOrientation(window.orientation||0,!0),void t()):(e="phone3_4",i=getScreenSize(vs_core$1__default.DeviceConfiguration.SS_4_INCH),0!==deviceConfiguration.orientation&&90!==deviceConfiguration.orientation||(e+="_p"),180!==deviceConfiguration.orientation&&-180!==deviceConfiguration.orientation||(e+="_l"),window.target_device_ids&&window.target_device_ids[e]?(window.deviceConfiguration.targetId=e,window.deviceConfiguration.virtualScreenSize=i,window.deviceConfiguration.setOrientation(window.orientation||0,!0),void t()):void 0))};function getScreenSize(t){switch(t){case vs_core$1__default.DeviceConfiguration.SS_7_INCH:return devicePixelRatio<=1.2?[600,960]:devicePixelRatio<=1.4?[800,1280]:devicePixelRatio<=1.7?[900,1440]:[1200,1920];case vs_core$1__default.DeviceConfiguration.SS_4_INCH:return devicePixelRatio<=1.2?[320,540]:devicePixelRatio<=1.4?[427,720]:devicePixelRatio<=1.7?[480,800]:[720,1080]}}Application.getOrientation=function(){return window.deviceConfiguration.getOrientation()},Application.start=function(){var t,e;for(t in Application._applications)(e=Application._applications[t]).propertyChange(),e.applicationStarted(),vs_core$1__default.scheduleAction(function(){e.refresh()});vs_core$1__default.scheduleAction(function(){vs_core$1__default.DataFlow._default_df_.build()})},Application.stop=function(){for(t in Application._applications)e=Application._applications[t],vs_utils$1__default.free(e);Application._applications={};for(var t in vs_core$1__default.VSObject._obs){var e=vs_core$1__default.VSObject._obs[t];vs_utilsfree(e)}},Application.sendStart=function(){console.log("Application.sendStart is deprecated. Please use Application.start"),Application.start()},Application.propagate=function(t,e){var i,s;for(i in Application._applications)(s=Application._applications[i])&&s.propagate(t,e)},Application.preloadTemplates=function(t){for(var e=0;e<t.length;e++)vs_utils$1__default.preloadTemplate(t[e])};var ImagePreloader=function(t){for(var e=0;e<t.length;e++)this.preload(t[e])};window.ImagePreloader=ImagePreloader,ImagePreloader.__image_path={},ImagePreloader.prototype.preload=function(t){ImagePreloader.__image_path[t]||((new Image).src=t,ImagePreloader.__image_path[t]=!0)},Application.prototype.mainViewVisibility=function(t){Application.mainViewVisibility(t)},Application.prototype.setImageBackground=function(t,e,i){Application.setImageBackground(t,e,i)},Application.prototype.loadingStart=function(t){Application.loadingStart(t)},Application.prototype.loadingStop=function(){Application.loadingStop()},Application.mainViewVisibility=function(t){},Application.setImageBackground=function(t,e,i){},Application.loadingStart=function(t){},Application.loadingStop=function(){};function TapRecognizer(t){this.parent=PointerRecognizer,this.parent(t),this.constructor=TapRecognizer}var MULTI_TAP_DELAY=100;TapRecognizer.prototype={__is_touched:!1,__did_tap_time_out:0,__tap_mode:0,init:function(t){PointerRecognizer.prototype.init.call(this,t),this.addPointerListener(this.obj.view,vs_gesture.POINTER_START,this.obj),this.reset()},uninit:function(){this.removePointerListener(this.obj.view,vs_gesture.POINTER_START,this.obj)},pointerStart:function(t){if(!this.__is_touched&&!(0===t.targetPointerList.length||t.nbPointers>1)){0===this.__tap_mode&&(this.__tap_mode=1),this.__tap_elem=t.targetPointerList[0].currentTarget;try{this.delegate&&this.delegate.didTouch&&this.delegate.didTouch(this.__tap_elem._comp_,this.__tap_elem,t)}catch(t){t.stack&&console.log(t.stack),console.log(t)}return this.__did_tap_time_out&&(this.__tap_mode++,clearTimeout(this.__did_tap_time_out),this.__did_tap_time_out=0),this.addPointerListener(document,vs_gesture.POINTER_END,this.obj),this.addPointerListener(document,vs_gesture.POINTER_MOVE,this.obj),this.__start_x=t.targetPointerList[0].pageX,this.__start_y=t.targetPointerList[0].pageY,this.__is_touched=!0,!1}},pointerMove:function(t){if(this.__is_touched&&0!==t.pointerList.length){var e=t.pointerList[0].pageX-this.__start_x,i=t.pointerList[0].pageY-this.__start_y;if(Math.abs(e)+Math.abs(i)<View.MOVE_THRESHOLD)return!1;this.removePointerListener(document,vs_gesture.POINTER_END,this.obj),this.removePointerListener(document,vs_gesture.POINTER_MOVE,this.obj),this.__is_touched=!1;try{this.delegate&&this.delegate.didUntouch&&this.delegate.didUntouch(this.__tap_elem._comp_,this.__tap_elem,t)}catch(t){t.stack&&console.log(t.stack),console.log(t)}}},pointerEnd:function(t){if(this.__is_touched){this.__is_touched=!1;var e=this,i=this.__tap_elem,s=i?i._comp_:null;if(this.__tap_elem=void 0,this.removePointerListener(document,vs_gesture.POINTER_END,this.obj),this.removePointerListener(document,vs_gesture.POINTER_MOVE,this.obj),this.delegate&&this.delegate.didUntouch)try{this.delegate.didUntouch(s,i,t)}catch(t){t.stack&&console.log(t.stack),console.log(t)}this.delegate&&this.delegate.didTap?this.__did_tap_time_out=setTimeout(function(){try{e.delegate.didTap(e.__tap_mode,s,i,t)}catch(t){t.stack&&console.log(t.stack),console.log(t)}e.__tap_mode=0,e.__did_tap_time_out=0},MULTI_TAP_DELAY):e.__tap_mode=0}},pointerCancel:function(t){return this.pointerEnd(t)}},vs_utils$1__default.extendClass(TapRecognizer,PointerRecognizer);var html_template$1='<div class="vs_ui_button"><div></div></div>';function Button(t){this.parent=View,this.parent(t),this.constructor=Button}Button.DEFAULT_TYPE="default",Button.DEFAULT_STYLE="default_style",Button.GREEN_STYLE="green",Button.RED_STYLE="red",Button.GREY_STYLE="grey",Button.NAVIGATION_TYPE="nav",Button.NAVIGATION_BACK_TYPE="nav_back",Button.NAVIGATION_FORWARD_TYPE="nav_forward",Button.BLUE_STYLE="blue_style",Button.BLACK_STYLE="black_style",Button.SILVER_STYLE="silver_style",Button.prototype={html_template:html_template$1,__tap_recognizer:null,_style:Button.DEFAULT_STYLE,_type:Button.DEFAULT_TYPE,_selected:!1,_text:"",_released_image:"",_selected_image:"",_disabled_image:"",didTouch:function(){this.addClassName("pressed"),this._selected=!0},didUntouch:function(){this.removeClassName("pressed"),this._selected=!1},didTap:function(){this.propagate("select")},destructor:function(){this.__tap_recognizer&&(this.removePointerRecognizer(this.__tap_recognizer),this.__tap_recognizer=null),View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this),this.text_view=this.view.firstElementChild,this.__tap_recognizer||(this.__tap_recognizer=new TapRecognizer(this),this.addPointerRecognizer(this.__tap_recognizer)),this._text?this.text=this._text:this.text="",this.view.name=this.id,this._style&&this.addClassName(this._style),this._type&&this.addClassName(this._type)}},vs_utils$1__default.extendClass(Button,View),vs_utils$1__default.defineClassProperties(Button,{text:{set:function(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._text=t,this.text_view&&vs_utils$1__default.setElementInnerText(this.text_view,this._text)},get:function(){return this._text}},style:{set:function(t){vs_utils$1__default.isString(t)&&(t=t.replace("_ios",""),this._style&&this.removeClassName(this._style),this._style=t,this.addClassName(this._style))},get:function(){return this._style}},type:{set:function(t){vs_utils$1__default.isString(t)&&(this._type&&this.removeClassName(this._type),this._type=t,this.addClassName(this._type))},get:function(){return this._type}}});var html_template$2='<div class="vs_ui_canvas"><canvas class="canvas_inner"></canvas></div>';function Canvas(t){this.parent=View,this.parent(t),this.constructor=Canvas}Canvas.prototype={html_template:html_template$2,canvas_ctx:null,canvas_node:null,destructor:function(){View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this),this.canvas_node=this.view.firstChild,this.canvas_node&&(this.canvas_ctx=this.canvas_node.getContext("2d"),this.canvas_node.width=this._size[0],this.canvas_node.height=this._size[1],this.draw(0,0,this._size[0],this._size[1]))},getContext:function(){return this.canvas_ctx},c_drawRect:function(t,e,i,s,_,n){if(4===arguments.length)this.c_rect(t,e,i,s).stroke();else if(n){Math.sin(n),Math.cos(n);var o=[t,e],r=this.rotatePoint(i,0,n);o.push(t+r[0],e+r[1]),r=this.rotatePoint(i,s,n),o.push(t+r[0],e+r[1]),r=this.rotatePoint(0,s,n),o.push(t+r[0],e+r[1]),_&&o.push(_),this.c_polygon.apply(this,o)}else this.c_polygon(t,e,t+i,e,t+i,e+s,t,e+s,_);return this},rotatePoint:function(t,e,i){return[t*Math.cos(i)-e*Math.sin(i),e*Math.cos(i)+t*Math.sin(i)]},c_polygon:function(){if(arguments.length<6)throw new Error("not enough arguments");var t,e,i,s,_;if(this.c_beginPath(),arguments.length%2==0)for(this.c_moveTo(arguments[0],arguments[1]),t=2;t<arguments.length;t+=2)this.c_lineTo(arguments[t],arguments[t+1]);else{for(e=arguments[arguments.length-1],s=(arguments[2*(i=(arguments.length-1)/2)-2]+arguments[0])/2,_=(arguments[2*i-1]+arguments[1])/2,this.c_moveTo(s,_),t=0;t<i-1;t++)this.c_arcTo(arguments[2*t],arguments[2*t+1],arguments[2*t+2],arguments[2*t+3],e);this.c_arcTo(arguments[2*i-2],arguments[2*i-1],arguments[0],arguments[1],e)}return this.c_closePath(),this.c_moveTo(arguments[0],arguments[1]),this.c_stroke(),this},c_ellipse:function(t,e,i,s,_,n,o,r){void 0===_&&(_=0),void 0===n&&(n=0),void 0===o&&(o=2*Math.PI),void 0===r&&(r=!1);var a=this.rotatePoint(i*Math.cos(n),s*Math.sin(n),_),l=t+a[0],h=e+a[1],u=this.rotatePoint(i*Math.cos(o),s*Math.sin(o),_);u[0],u[1];return this.c_moveTo(l,h),this.c_translate(t,e),this.c_rotate(_),this.c_scale(i/s,1),this.c_arc(0,0,s,n,o,r),this.c_scale(s/i,1),this.c_rotate(-_),this.c_translate(-t,-e),this.c_stroke(),this},load:function(t){var e=window.innerWidth-25;this.__iframe=document.createElement("iframe"),this.__iframe.id="canvas_load_iframe",this.__iframe.height="10px",this.__iframe.width=e+"px",this.__iframe.style.visibility="hidden",this.__iframe.src=t,this.nodeBind(this.__iframe,"load","remotePageLoaded"),document.body.appendChild(this.__iframe)},remotePageLoaded:function(){var t=this.__iframe.contentWindow,e=window.innerWidth-25,i=window.innerHeight;this.c_clearRect(0,0,this._size[0],this._size[1]),this.c_save(),this.c_scale(this._size[0]/e,this._size[1]/i),this.canvas_ctx.drawWindow(t,0,0,e,i,"rgb(255,255,255)"),this.c_restore()},draw:function(t,e,i,s){t||(t=0),e||(e=0),i||(i=this._size[0]),s||(s=this._size[1]),this.c_clearRect(t,e,i,s),this.c_lineWidth=3,this.c_shadowColor="white",this.c_shadowBlur=1;var _,n,o,r,a;for(_=0;_<10;_++)this.c_strokeStyle="rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+")",n=Math.floor(Math.random()*i),o=Math.floor(Math.random()*s),r=Math.floor(Math.random()*i),a=Math.floor(Math.random()*s),this.c_beginPath(),this.c_moveTo(n,o),this.c_lineTo(r,a),this.c_closePath(),this.c_stroke()}},vs_utils$1__default.extendClass(Canvas,View),Canvas.methods=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createImageData","createLinearGradient","createRadialGradient","createPattern","drawFocusRing","drawImage","fill","fillRect","fillText","getImageData","isPointInPath","lineTo","measureText","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setTransform","stroke","strokeRect","strokeText","transform","translate"],Canvas.props=["canvas","fillStyle","font","globalAlpha","globalCompositeOperation","lineCap","lineJoin","lineWidth","miterLimit","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","strokeStyle","textAlign","textBaseline"],Canvas.setup=function(){var t,e,i;for(t=0;t<Canvas.methods.length;t++)e=Canvas.methods[t],Canvas.prototype["c_"+e]=function(t){return function(){return this.canvas_ctx[t].apply(this.canvas_ctx,arguments),this}}(e);for(t=0;t<Canvas.props.length;t++){i=Canvas.props[t];var s={};s.enumerable=!0,s.set=function(t){return function(e){this.canvas_ctx[t]=e}}(i),s.get=function(t){return function(){return this.canvas_ctx[t]}}(i),vs_utils$1__default.defineProperty(Canvas.prototype,"c_"+i,s)}},Canvas.setup(),vs_utils$1__default.defineClassProperty(Canvas,"size",{set:function(t){if(t&&vs_utils$1__default.isArray(t)&&2===t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(this._size[0]=t[0],this._size[1]=t[1],this.view)){if(this._updateSizeAndPos(),!this.canvas_node){if(this.canvas_node=this.view.firstChild,!this.canvas_node)return void console.error("Uncompatible canvas view");this.canvas_ctx=this.canvas_node.getContext("2d")}this.canvas_node.width=this._size[0],this.canvas_node.height=this._size[1],this.draw(0,0,this._size[0],this._size[1])}},get:function(){return this.view&&this.view.parentNode&&(this._size[0]=this.view.offsetWidth,this._size[1]=this.view.offsetHeight),this._size.slice()}});var html_template$3='<div class="vs_ui_checkbox"><fieldset x-hag-hole="item_children"></div>',html_template$4='<div class="vs_ui_scrollview">\n  <div x-hag-hole="top_bar"></div>\n  <div class="content" x-hag-hole="children"></div>\n  <div x-hag-hole="bottom_bar"></div>\n</div>';function ScrollView(t){this.parent=View,this.parent(t),this.constructor=ScrollView,this.__ab_view_t_o=[50,50]}ScrollView.NO_SCROLL=0,ScrollView.VERTICAL_SCROLL=1,ScrollView.HORIZONTAL_SCROLL=2,ScrollView.SCROLL=3,ScrollView.NO_PINCH=0,ScrollView.ROTATION=1,ScrollView.SCALE=2,ScrollView.ROTATION_AND_SCALE=3,ScrollView.prototype={html_template:html_template$4,_delegate:null,_scroll:!1,__scroll_activated:!1,_pinch:ScrollView.NO_PINCH,_ab_view_t_x:0,_ab_view_t_y:0,_ab_view_s:1,_ab_view_r:0,_animation_duration:0,refresh:function(){var t,e,i=this.size,s=i[0],_=i[1],n=this._getComputedStyle(this.view),o=0,r=0;this._sub_view&&(this._sub_view.style.height="",this._sub_view.style.width="",vs_core$1__default.scheduleAction(function(){if(this.__i__){for(View.prototype.refresh.call(this),n&&(e=n["border-right-width"],o+=e?parseInt(e,10):0,e=n["border-left-width"],o+=e?parseInt(e,10):0,e=n["border-top-width"],r+=e?parseInt(e,10):0,e=n["borde-bottom-width"],r+=e?parseInt(e,10):0),s-=o,_-=r,t=this._sub_view.firstElementChild;t;)(e=t.offsetHeight+t.offsetTop)>_&&(_=e),(e=t.offsetWidth+t.offsetLeft)>s&&(s=e),t=t.nextElementSibling;this._scroll===ScrollView.SCROLL&&(this._sub_view.style.width=s+"px",this._sub_view.style.height=_+"px"),this._scroll===ScrollView.HORIZONTAL_SCROLL&&(this._sub_view.style.width=s+"px",this._sub_view.style.height=this.size[1]-o+"px"),this._scroll===ScrollView.VERTICAL_SCROLL&&(this._sub_view.style.width=this.size[0]-r+"px",this._sub_view.style.height=_+"px"),this._scroll===ScrollView.NO_SCROLL&&(i=this.size,this._sub_view.style.width=i[0]+"px",this._sub_view.style.height=i[1]+"px"),this.__iscroll__&&this.__iscroll__.refresh()}}.bind(this)))},destructor:function(){this.__iscroll__&&(this.__iscroll__.destroy(),this.__iscroll__=void 0),this._scroll=!1,this._sub_view&&this._sub_view.parentElement&&this._sub_view.parentElement.removeChild(this._sub_view),View.prototype.destructor.call(this),delete this._sub_view},add:function(t,e){t&&(t instanceof NavigationBar&&(e="top_bar"),t instanceof ToolBar&&(e="bottom_bar"),View.prototype.add.call(this,t,e))},initComponent:function(){View.prototype.initComponent.call(this),this._sub_view=this.view.querySelector(".content"),this.pinch=this._pinch,this.scroll=this._scroll,this.layout=this._layout,this.animationDuration=this._animation_duration,this.refresh()},_updateSize:function(){View.prototype._updateSize.call(this),this.refresh()},_setup_iscroll:function(){if(this.__iscroll__&&(this.__iscroll__.destroy(),this.__iscroll__=void 0),this.view&&this._sub_view){var t={};t.bubbling=!1,t.hScroll=!1,t.vScroll=!1,1===this._scroll?t.vScroll=!0:2===this._scroll?t.hScroll=!0:3===this._scroll&&(t.hScroll=!0,t.vScroll=!0),t.hScrollbar=!1,t.vScrollbar=!1,this.__iscroll__=new iScroll(this.view,this._sub_view,t),this.refresh()}}},vs_utils$1__default.extendClass(ScrollView,View),vs_utils$1__default.defineClassProperties(ScrollView,{delegate:{set:function(t){this._delegate=t}},scroll:{set:function(t){t!==this._scroll&&(t?!0!==t&&1!==t&&2!==t&&3!==t||(this._scroll=t,this._setup_iscroll()):(this.__iscroll__&&(this.__iscroll__.destroy(),this.__iscroll__=void 0),this._scroll=!1))},get:function(){return this._scroll}},pinch:{set:function(t){t!==ScrollView.NO_PINCH&&t!==ScrollView.ROTATION&&t!==ScrollView.SCALE&&t!==ScrollView.ROTATION_AND_SCALE||this.view&&(this._pinch=t)}},animationDuration:{set:function(t){t||(t=0),vs_utils$1__default.isNumber(t)&&(this._animation_duration=t,this._sub_view&&(this._sub_view.style.webkitTransitionDuration=t+"ms",(this.hScrollbar||this.vScrollbar)&&this._scroll_transition_time(t)))}},layout:{set:function(t){t!==View.HORIZONTAL_LAYOUT&&t!==View.DEFAULT_LAYOUT&&t!==View.ABSOLUTE_LAYOUT&&t!==View.VERTICAL_LAYOUT&&t!==View.FLOW_LAYOUT&&t!==View.LEGACY_HORIZONTAL_LAYOUT&&t!==View.LEGACY_ABSOLUTE_LAYOUT&&t!==View.LEGACY_VERTICAL_LAYOUT&&t!==View.LEGACY_FLOW_LAYOUT&&t?console.error("Unsupported layout '"+t+"'!"):(t&&-1===t.indexOf("_layout")&&(t+="_layout"),this._sub_view?(this._layout&&vs_utils$1__default.removeClassName(this._sub_view,this._layout),this._layout=t,this._layout&&vs_utils$1__default.addClassName(this._sub_view,this._layout)):this._layout=t)}},innerHTML:{set:function(t){this._sub_view&&vs_utils$1__default.safeInnerHTML(this._sub_view,t)}}});function AbstractList(t){this.parent=ScrollView,this.parent(t),this.constructor=AbstractList}AbstractList.prototype={__tap_recognizer:null,_items_selectable:!0,_scroll:0,_model:null,__elem:null,__scroll_start:0,add:function(){},remove:function(t){},destructor:function(){ScrollView.prototype.destructor.call(this),this.__tap_recognizer&&(this.removePointerRecognizer(this.__tap_recognizer),this.__tap_recognizer=null),this._model.unbindChange(null,this,this._modelChanged),this._model_allocated&&vs_utils$1__default.free(this._model),this._model_allocated=!1},initComponent:function(){ScrollView.prototype.initComponent.call(this),this._model=new vs_core$1__default.Array,this._model.init(),this._model_allocated=!0,this._model.bindChange(null,this,this._modelChanged),this._holes.item_children||(this._holes.item_children=this.view.querySelector("ul")),this._list_items=this._sub_view=this._holes.item_children,this.__tap_recognizer||(this.__tap_recognizer=new TapRecognizer(this),this.addPointerRecognizer(this.__tap_recognizer)),this.refresh()},refresh:function(){this.__iscroll__&&this.__iscroll__.refresh(),ScrollView.prototype.refresh.call(this)},_modelChanged:function(){this._renderData(this._items_selectable),this.refresh()},propertiesDidChange:function(){return this._modelChanged(),!0},_renderData:function(){},_touchItemFeedback:function(t){},_untouchItemFeedback:function(t){},_updateSelectItem:function(t){},didTouch:function(t,e,i){if(!this._items_selectable)return!1;e!==this._sub_view&&e!==this.view?(this.__elem=e,this._unselect_item(),e&&(this.__elem_to_unselect=e,this._touchItemFeedback(e))):this.__elem=null},didUntouch:function(t,e,i){this._unselect_item(),this.__elem=null},didTap:function(t,e,i,s){this._unselect_item(),i&&this._updateSelectItem(i)},_unselect_item:function(){this.__elem_to_unselect&&(this._untouchItemFeedback(this.__elem_to_unselect),this.__elem_to_unselect=null)},scrollToElementAt:function(t,e){if(this.__iscroll__){vs_utils$1__default.isNumber(e)||(e=200);var i=this.__item_obs[t];if(i){var s=this.__iscroll__._offset(i.view);s.top+=this.__iscroll__.wrapperOffsetTop,s.top=s.top>this.__iscroll__.minScrollY?this.__iscroll__.minScrollY:s.top<this.__iscroll__.maxScrollY?this.__iscroll__.maxScrollY:s.top,this.__iscroll__.scrollTo(0,s.top,200)}}}},vs_utils$1__default.extendClass(AbstractList,ScrollView),vs_utils$1__default.defineClassProperties(AbstractList,{scroll:{set:function(t){t?(this._scroll=ScrollView.VERTICAL_SCROLL,this._setup_iscroll()):(this.__iscroll__&&(this.__iscroll__.destroy(),this.__iscroll__=void 0),this._scroll=!1)},get:function(){return!!this._scroll}},model:{set:function(t){t&&(vs_utils$1__default.isArray(t)?(this._model.removeAll(),this._model.add.apply(this._model,t)):t.toJSON&&t.propertyChange&&(this._model_allocated&&(this._model.unbindChange(null,this,this._modelChanged),vs_utils$1__default.free(this._model)),this._model_allocated=!1,this._model=t,this._model.bindChange(null,this,this._modelChanged)),this.inPropertyDidChange())},get:function(){return this._model}},data:{set:function(t){vs_utils$1__default.isArray(t)&&(this._model_allocated?this._model.removeAll():(this._model=new vs_core$1__default.Array,this._model.init(),this._model_allocated=!0,this._model.bindChange(null,this,this._modelChanged)),this._model.add.apply(this._model,t),this.inPropertyDidChange())},get:function(){return this._model._data.slice()}}});function CheckBox(t){this.__inputs=[],this.__labels=[],this.parent=AbstractList,this.parent(t),this.constructor=CheckBox,this._selected_indexes=new Array}CheckBox.prototype={html_template:html_template$3,_selected_indexes:null,__inputs:null,__labels:null,selectItem:function(t){if(vs_utils$1__default.isNumber(t)&&!(t<0||t>=this.__inputs.length)){var e=this.__inputs[t];if(e){for(var i=0;i<this._selected_indexes.length;i++)if(this._selected_indexes[i]===t)return this._selected_indexes.remove(i),void(e.checked=!1);this._selected_indexes.push(t),e.checked=!0}}},clean_gui:function(){var t;for(this.__scroll_start=0,vs_utils$1__default.removeAllElementChild(this._list_items);this.__inputs.length;)t=this.__inputs[0],vs_gesture.removePointerListener(t,vs_gesture.POINTER_START,this),t.removeEventListener("click",this),this.__inputs.remove(0),this.__labels.remove(0)},_renderData:function(){if(this._model){var t,e,i,s,_;if(this._list_items){this._selected_indexes=[],this.clean_gui();window.deviceConfiguration.os;for(t=0,e=this._model.length;t<e;t++)i=this._model.item(t),(_=document.createElement("input")).type="checkbox",_.name=this._id,_.id=this._id+"_l"+t,_.value=t,this._list_items.appendChild(_),this.__inputs[t]=_,vs_gesture.addPointerListener(_,vs_gesture.POINTER_START,this),_.addEventListener("click",this),(s=document.createElement("label")).value=t,s.setAttribute("for",this._id+"_l"+t),vs_gesture.addPointerListener(s,vs_gesture.POINTER_START,this),s.addEventListener("click",this),vs_utils$1__default.setElementInnerText(s,i),this._list_items.appendChild(s),this.__labels[t]=s;this.selectedItem=this._selected_indexes}else console.error("vs.ui.CheckBox uncorrectly initialized.")}},_touchItemFeedback:function(t){var e=t.value,i=this.__inputs[e],s=this.__labels[e];vs_utils$1__default.addClassName(i,"pressed"),vs_utils$1__default.addClassName(s,"pressed")},_untouchItemFeedback:function(t){var e=t.value,i=this.__inputs[e],s=this.__labels[e];vs_utils$1__default.removeClassName(i,"pressed"),vs_utils$1__default.removeClassName(s,"pressed")},_updateSelectItem:function(t){var e=parseInt(t.value);if(t._comp_&&t._comp_.didSelect&&t._comp_.didSelect(),e>=0||e<this.__inputs.length){for(this.selectItem(e),this.outPropertyChange(),items=new Array,i=0,l=this._selected_indexes.length;i<l;i++)items.push(this._model.item(this._selected_indexes[i]));this.propagate("change",{indexes:this._selected_indexes.slice(),items:items})}}},vs_utils$1__default.extendClass(CheckBox,AbstractList),vs_utils$1__default.defineClassProperty(CheckBox,"selectedIndexes",{set:function(t){if(vs_utils$1__default.isArray(t)){var e,i,s;for(this._selected_indexes=[],s=0;s<t.length;s++)e=t[s],vs_utils$1__default.isNumber(e)&&this._selected_indexes.push(e);for(s=0;s<this.__inputs.length;s++){(_=this.__inputs[s])&&(_.checked=!1)}for(i=this._selected_indexes.length,s=0;s<i;s++){var _;(_=this.__inputs[this._selected_indexes[s]])&&(_.checked=!0)}}},get:function(){return this._selected_indexes.slice()}});var html_template$5='<div class="vs_ui_combobox"></div>';function ComboBox(t){this._data=new Array,this._items={},this.parent=View,this.parent(t),this.constructor=ComboBox}ComboBox.NORMAL_MODE=1,ComboBox.NATIVE_MODE=2,ComboBox.prototype={html_template:html_template$5,_mode:ComboBox.NORMAL_MODE,_data:null,_selected_item:null,_items:null,destructor:function(){this._mode===ComboBox.NATIVE_MODE?(vs_gesture.removePointerListener(this.view,vs_gesture.POINTER_START,this),vs_gesture.removePointerListener(this.view,vs_gesture.POINTER_END,this)):(this.nodeUnbind(this._select,"change"),this.nodeUnbind(this._select,"blur")),View.prototype.destructor.call(this)},update_gui_combo_box:function(){if(vs_utils$1__default.isArray(this._data))if(this._mode===ComboBox.NORMAL_MODE){vs_utils$1__default.removeAllElementChild(this._select),this._items={};var t,e;for(t=0;t<this._data.length;t++)(e=document.createElement("option")).appendChild(document.createTextNode(this._data[t])),this._items[this._data[t]]=e,this._select.appendChild(e);this._selected_item?this._select.value=this._selected_item:this._select.selectedIndex=0}else vs_utils$1__default.setElementInnerText(this._select,this._selected_item)},initComponent:function(){View.prototype.initComponent.call(this),window.cordova&&(window.deviceConfiguration.os===vs_core$1__default.DeviceConfiguration.OS_IOS||window.deviceConfiguration.os===vs_core$1__default.DeviceConfiguration.OS_ANDROID)&&window.plugins.combo_picker?(this._mode=ComboBox.NATIVE_MODE,this._select=document.createElement("div"),this.view.appendChild(this._select),vs_gesture.addPointerListener(this.view,vs_gesture.POINTER_START,this),vs_gesture.addPointerListener(this.view,vs_gesture.POINTER_END,this)):(this._mode=ComboBox.NORMAL_MODE,this._select=document.createElement("select"),this.view.appendChild(this._select),this.nodeBind(this._select,"change"),this.nodeBind(this._select,"blur")),this.update_gui_combo_box()},handleEvent:function(t){t.preventDefault(),t.stopPropagation(),t.type===vs_gesture.POINTER_START&&(this.setFocus(),window.plugins.combo_picker.show(this,this._data,this._selected_item))},setFocus:function(){this._mode===ComboBox.NATIVE_MODE?this.addClassName("focus"):this._select.focus()},setBlur:function(){this._mode===ComboBox.NATIVE_MODE?this.removeClassName("focus"):this._select.blur()},notify:function(t){"change"===t.type?(this._selected_item=this._select.value,this.outPropertyChange(),this.propagate("change",this._selected_item)):"blur"===t.type&&window.scrollTo(0,0)}},vs_utils$1__default.extendClass(ComboBox,View),vs_utils$1__default.defineClassProperties(ComboBox,{selectedItem:{set:function(t){vs_utils$1__default.isString(t)&&(this._selected_item=t,this._mode===ComboBox.NORMAL_MODE?this._selected_item?this._select.value=this._selected_item:this._select.selectedIndex=0:vs_utils$1__default.setElementInnerText(this._select,this._selected_item))},get:function(){return this._selected_item}},data:{set:function(t){vs_utils$1__default.isArray(t)&&(this._data=t.slice(),this.update_gui_combo_box())}}});var html_template$6='<img class="vs_ui_imageview">';function ImageView(t){this.parent=View,this.parent(t),this.constructor=ImageView}ImageView.prototype={html_template:html_template$6,_src:null,destructor:function(){this.view&&(this.view.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this),this.view.ondragstart=function(t){return t.preventDefault(),!1},this.view.src?this._src=this.view.getAttribute("src"):this.view.src=this._src,this.view.setAttribute("width","100%"),this.view.setAttribute("height","100%")}},vs_utils$1__default.extendClass(ImageView,View),vs_utils$1__default.defineClassProperties(ImageView,{src:{set:function(t){vs_utils$1__default.isString(t)&&(this._src=t,this.view&&(this.view.src=this._src))},get:function(){return this._src}},size:{set:function(t){(vs_utils$1__default.isArray(t)||2===t.length||vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1]))&&(this.view&&(this.view.setAttribute("width",t[0]),this.view.setAttribute("height",t[1])),this._size[0]=t[0],this._size[1]=t[1],this._updateSizeAndPos())},get:function(){return this.view&&this.view.parentNode&&(this._size[0]=this.view.offsetWidth,this._size[1]=this.view.offsetHeight),this._size.slice()}}});var html_template$7='<div class="vs_ui_inputfield"><input type="text" value="" placeholder="type ..." incremental="incremental"><div class="clear_button">\n</div>';function InputField(t){this.parent=View,this.parent(t),this.constructor=InputField}InputField.TEXT="text",InputField.PASSWORD="password",InputField.SEARCH="search",InputField.prototype={html_template:html_template$7,_text_field:null,_clear_button:null,_value:"",_placeholder:"type ...",_type:InputField.TEXT,destructor:function(){this._text_field.removeEventListener("focus",this),this._text_field.removeEventListener("blur",this),this._text_field.removeEventListener("change",this),this._text_field.removeEventListener("input",this),this._clear_button&&this.nodeUnbind(this._clear_button,vs_gesture.POINTER_START,"cleanData"),delete this._text_field,View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this),this._text_field=this.view.querySelector("input"),this._text_field.name=this.id,this._clear_button=this.view.querySelector(".clear_button"),this._clear_button&&this.nodeBind(this._clear_button,vs_gesture.POINTER_START,"cleanData"),this.type=this._type,this.value=this._value,this.placeholder=this._placeholder,this._text_field.addEventListener("focus",this),this._text_field.addEventListener("blur",this),this._text_field.addEventListener("change",this),this._text_field.addEventListener("input",this)},cleanData:function(t){this._text_field.value="",this._value="",this._activateDelete(!1),this.outPropertyChange(),this.propagate("continuous_change",this._value),this.propagate("change",this._value)},changeData:function(){this._value=this._text_field.value,this._value?this._activateDelete(!0):this._activateDelete(!1)},_activateDelete:function(t){this._clear_button&&(t?vs_utils$1__default.setElementVisibility(this._clear_button,!0):vs_utils$1__default.setElementVisibility(this._clear_button,!1))},onkeydown:function(t){var e=(t=fixEvent(t)).target;if(t.keyCode===TAB||t.keyCode===ENTER)return e.blur(),!1},setFocus:function(){this._text_field.focus()},setBlur:function(){this._text_field.blur()},setPointerEvents:function(t){this._text_field.style.pointerEvents=t?"none":"auto"},_didEnable:function(){this._enable?this._text_field.removeAttribute("disabled"):this._text_field.setAttribute("disabled",!0)},handleEvent:function(t){var e=this;function i(t){if(t.target!==e.view&&t.target!==e._text_field){if(t.target===e._clear_button)return e.cleanData(),t.stopPropagation(),void t.preventDefault();vs_gesture.removePointerListener(document,vs_gesture.POINTER_START,i,!0),e.setBlur()}}"change"===t.type?(this.changeData(),this.outPropertyChange(),this.propagate("change",this._value)):"input"===t.type?(this.changeData(),this.outPropertyChange(),this.propagate("continuous_change",this._value)):"focus"===t.type?(this.addClassName("focus"),this._value=this._text_field.value,this._value?this._activateDelete(!0):this._activateDelete(!1),vs_gesture.addPointerListener(document,vs_gesture.POINTER_START,i,!0),this.propagate("focus")):"blur"===t.type&&(this.removeClassName("focus"),this._activateDelete(!1),window.scrollTo(0,0),this.propagate("blur"))}},vs_utils$1__default.extendClass(InputField,View),vs_utils$1__default.defineClassProperties(InputField,{value:{set:function(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._value=t,this._text_field&&(this._text_field.value=this._value,this._value&&""!==this._value?this._activateDelete(!0):this._activateDelete(!1))},get:function(){return this._value=this._text_field.value,this._value}},type:{set:function(t){t!==InputField.TEXT&&t!==InputField.PASSWORD&&t!==InputField.SEARCH||this.view&&(this.removeClassName(this._type),this._type=t,this.addClassName(this._type),this._text_field&&(this._type===InputField.PASSWORD?this._text_field.setAttribute("type","password"):this._type===InputField.SEARCH?this._text_field.setAttribute("type","search"):this._text_field.setAttribute("type","text")))}},placeholder:{set:function(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._placeholder=t,this._text_field&&this._text_field.setAttribute("placeholder",this._placeholder)}}});var html_template$8='<div class="vs_ui_list"><ul x-hag-hole="item_children"></div>',AbstractListItem=function(t){this.parent=View,this.parent(t),this.constructor=AbstractListItem};AbstractListItem.prototype={_index:0,_pressed:!1,_visible:!0,didSelect:function(){}},vs_utils$1__default.extendClass(AbstractListItem,View),vs_utils$1__default.defineClassProperties(AbstractListItem,{pressed:{set:function(t){this.view&&(t?(this.addClassName("pressed"),this._pressed=!0):(this.removeClassName("pressed"),this._pressed=!1))},get:function(){return this._pressed}},index:{set:function(t){this._index=t},get:function(){return this._index}}});function DefaultListItem(){this.parent=AbstractListItem,this.parent(),this.constructor=AbstractListItem}DefaultListItem.prototype={_title:"",_label:"",set title(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._title=t,this.view&&(vs_utils$1__default.setElementInnerText(this.view,this._title),this.view.appendChild(this._label_view))},set label(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._label=t,this.view&&vs_utils$1__default.setElementInnerText(this._label_view,this._label),this._label&&!this._label_view.parentNode&&this.view.appendChild(this._label_view),!this._label&&this._label_view.parentNode&&this.view.removeChild(this._label_view)},initComponent:function(){this.__config__||(this.__config__={}),this.__config__.id=this.id,this.__config__.node||(this.__config__.node=document.createElement("li")),AbstractListItem.prototype.initComponent.call(this),this._label_view=document.createElement("span")}},vs_utils$1__default.extendClass(DefaultListItem,AbstractListItem);function SimpleListItem(t){this.parent=View,this.parent(t),this.constructor=SimpleListItem}SimpleListItem.prototype={_title:"",set title(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._title=t,this.view&&vs_utils$1__default.setElementInnerText(this.title_view,this._title)},initComponent:function(){if(this.__config__||(this.__config__={}),this.__config__.id=this.id,!this.__config__.node){this.__config__.node=document.createElement("div"),this.__config__.node.className="simplelist_item";var t=document.createElement("div");t.className="title",this.__config__.node.appendChild(t)}AbstractListItem.prototype.initComponent.call(this),this._label_view=document.createElement("span"),this.title_view=this.view.querySelector(".title")}},vs_utils$1__default.extendClass(SimpleListItem,View);function buildSection(t,e,i,s){for(var _,n,o=document.createElement("li"),r=document.createElement("div"),a=document.createElement("ul"),l=t._model;i<l.length&&(_=l.item(i),!vs_utils$1__default.isString(_));)_=l.item(i),n=t.__template_class?(new t.__template_class).init():t.__template_obj?t.__template_obj.clone():(new DefaultListItem).init(),_ instanceof vs_core$1__default.Model?n.link(_):n.configure(_),n.index=i,s&&vs_gesture.addPointerListener(n.view,vs_gesture.POINTER_START,t),a.appendChild(n.view),t.__item_obs.push(n),n.__parent=t,i++;if(e){var h=window.deviceConfiguration.os;if(h==vs_core$1__default.DeviceConfiguration.OS_MEEGO||h==vs_core$1__default.DeviceConfiguration.OS_SYMBIAN){r.appendChild(document.createElement("div"));var u=document.createElement("div");u.appendChild(document.createTextNode(e)),r.appendChild(u)}else vs_utils$1__default.setElementInnerText(r,e);o.appendChild(r)}return a.childElementCount>0&&o.appendChild(a),[o,i]}function blockListRenderData(t){if(this._model){var e,i,s,_,n=this._list_items;if(n){this._freeListItems(),vs_utils$1__default.removeAllElementChild(n),vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(n,"translate3d(0,0,0)"):vs_utils$1__default.setElementTransform(n,"translate(0,0)");var o=n.parentElement;for(o.removeChild(n),e=0,vs_utils$1__default.setElementVisibility(n,!1);e<this._model.length;)i=this._model.item(e),s=null,vs_utils$1__default.isString(i)&&(s=i,e++),_=buildSection(this,s,e,t),n.appendChild(_[0]),e=_[1];o.appendChild(n),n.style.width="auto",vs_utils$1__default.setElementVisibility(n,!0)}}}function tabListRenderData(t){if(this._model){var e,i,s,_,n=this._list_items,o=this._direct_access;if(n){this._freeListItems(),this.__direct_access_letters=[],vs_utils$1__default.removeAllElementChild(n),o&&vs_utils$1__default.removeAllElementChild(o),vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(n,"translate3d(0,0,0)"):vs_utils$1__default.setElementTransform(n,"translate(0,0)");var r=n.parentElement;r.removeChild(n),o&&this.view.removeChild(o),e=0,vs_utils$1__default.setElementVisibility(n,!1);for(var a=0;e<this._model.length;){if(i=this._model.item(e),s=null,vs_utils$1__default.isString(i)){s=i,e++;var l=document.createElement("div"),h=s[0];vs_utils$1__default.setElementInnerText(l,h),this.__direct_access_letters.push(h),l._index_=a++,o&&o.appendChild(l)}_=buildSection(this,s,e,t),n.appendChild(_[0]),e=_[1]}r.appendChild(n),o&&this.view.appendChild(o),n.style.width="auto",vs_utils$1__default.setElementVisibility(n,!0)}}}function defaultListRenderData(t){if(this._model){var e,i,s,_=this._list_items;if(_){this._freeListItems(),vs_utils$1__default.removeAllElementChild(_),vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(_,"translate3d(0,0,0)"):vs_utils$1__default.setElementTransform(_,"translate(0,0)");var n=_.parentElement;for(n.removeChild(_),e=0,vs_utils$1__default.setElementVisibility(_,!1);e<this._model.length;)i=this._model.item(e),s=this.__template_class?(new this.__template_class).init():this.__template_obj?this.__template_obj.clone():(new DefaultListItem).init(),i instanceof vs_core$1__default.Model?s.link(i):s.configure(i),s.index=e,t&&vs_gesture.addPointerListener(s.view,vs_gesture.POINTER_START,this),_.appendChild(s.view),this.__item_obs.push(s),s.__parent=this,e++;n.appendChild(_),_.style.width="auto",vs_utils$1__default.setElementVisibility(_,!0)}}}function List(t){this.parent=AbstractList,this.parent(t),this.constructor=List,this.__item_obs=new Array}List.FILTER_EXACTS=0,List.FILTER_CONTAINS=1,List.FILTER_STARTS_WITH=2,List.BLOCK_LIST="BlockList",List.TAB_LIST="TabList",List.DEFAULT_LIST="DefaultList",List.prototype={html_template:html_template$8,_type:List.DEFAULT_LIST,_selected_index:0,_selected_item:0,_filters:null,_has_arrow:!0,__item_obs:null,__elem:null,__template_obj:null,__template_class:null,add:function(t,e){this.setItemTemplate(t)},setItemTemplate:function(t){t&&(vs_utils$1__default.isFunction(t)?(this.__template_obj=null,this.__template_class=t):t.constructor&&(this.__template_obj=t,this.__template_class=null))},setItemTemplateName:function(t){return this.createAndAddComponent(t,{},"item_children")},remove:function(t){},destructor:function(){this._freeListItems(),AbstractList.prototype.destructor.call(this)},initComponent:function(){AbstractList.prototype.initComponent.call(this),this.addClassName(this._type),this.refresh()},getItems:function(){return this.__item_obs?this.__item_obs.slice():[]},applyFilters:function(){if(this._filters&&this.__item_obs){var t,e,i;for(t=0;t<this.__item_obs.length;t++)e=this.__item_obs[t],i=this._model.item(e.index),this.appyFiltersOnObj(e,i)}},appyFiltersOnObj:function(t,e){if(this._filters&&t&&e){var i,s,_,n,o,r=this._filters.length;if(0!==r)for(i=0;i<r;i++)if((s=this._filters[i]).property&&s.value){switch(_=!1,n=e[s.property],o=s.value,!1===s.strict&&(n=n.toLowerCase(),o=o.toLowerCase()),s.matching){case void 0:case null:case List.FILTER_EXACTS:n!==o&&(_=!0);break;case List.FILTER_STARTS_WITH:0!==n.indexOf(o)&&(_=!0);break;case List.FILTER_CONTAINS:-1===n.indexOf(o)&&(_=!0)}_?t.hide():t.show()}else t.show();else t.show()}},_freeListItems:function(){var t,e;for(t=0;t<this.__item_obs.length;t++)(e=this.__item_obs[t]).__parent=void 0,vs_utils$1__default.free(e);this.__item_obs=[]},_renderData:defaultListRenderData,_modelChanged:function(t){this._renderData(this._items_selectable),this.refresh()},_touchItemFeedback:function(t){t._comp_.pressed=!0},_untouchItemFeedback:function(t){t._comp_.pressed=!1},_updateSelectItem:function(t){this._selected_index=t._comp_.index,this._selected_item=this._model.item(this._selected_index),t._comp_&&t._comp_.didSelect&&t._comp_.didSelect(),this.outPropertyChange(),this.propagate("itemselect",{index:this._selected_index,item:this._selected_item})},init_directAccessBar:function(){this._direct_access=document.createElement("div"),this._direct_access.className="direct_access",this.view.appendChild(this._direct_access),this._direct_access_value=document.createElement("div"),this._direct_access_value.className="direct_access_value",this.view.appendChild(this._direct_access_value),this._acces_index=0;var t,e,i=this;function s(s){if(0!==s.targetPointerList.length){s.stopPropagation(),s.preventDefault(),vs_utils$1__default.setElementTransform(i._list_items,""),i.__max_scroll=i.size[1]-i._list_items.offsetHeight,vs_gesture.addPointerListener(document,vs_gesture.POINTER_MOVE,_,!1),vs_gesture.addPointerListener(document,vs_gesture.POINTER_END,n,!1);var o=s.targetPointerList[0].target._index_;if(vs_utils$1__default.isNumber(o)&&i._acces_index!==o){if(i._acces_index=o,i.__iscroll__){var r=i.getTitleItem(o);i.__iscroll__.scrollToElement(r,0)}else{var a=-i.getTitlePosition(o);a<i.__max_scroll&&(a=i.__max_scroll),i.__scroll_start=a,vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(i._list_items,"translate3d(0,"+a+"px,0)"):vs_utils$1__default.setElementTransform(i._list_items,"translate(0,"+a+"px)")}(t=vs_utils$1__default.getElementDimensions(i._direct_access)).height-=10,(e=vs_utils$1__default.getElementAbsolutePosition(i._direct_access)).y+=5;var l=i.__direct_access_letters[o];i._direct_access_value.style.opacity=1,i._direct_access_value.innerHTML=l,i._startScrolling&&i._startScrolling()}}}this.__access_bar_start=s;var _=function(s){s.stopPropagation(),s.preventDefault();var _=function(s){if(!t||!e)return 0;var _=s-e.y;_<0?_=0:_>t.height&&(_=t.height-1);var n=i._direct_access.childElementCount;return Math.floor(_*n/t.height)}(s.pageY);if(vs_utils$1__default.isNumber(_)&&i._acces_index!==_){if(i._acces_index=_,i.__iscroll__){var n=i.getTitleItem(_);i.__iscroll__.scrollToElement(n,0)}else{var o=-i.getTitlePosition(_);o<i.__max_scroll&&(o=i.__max_scroll),i.__scroll_start=o,vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(i._list_items,"translate3d(0,"+o+"px,0)"):vs_utils$1__default.setElementTransform(i._list_items,"translate(0,"+o+"px)")}var r=i.__direct_access_letters[_];i._direct_access_value.innerHTML=r}},n=function(t){vs_gesture.removePointerListener(document,vs_gesture.POINTER_MOVE,_),vs_gesture.removePointerListener(document,vs_gesture.POINTER_END,n),i._direct_access_value.style.opacity=0};vs_gesture.addPointerListener(this._direct_access,vs_gesture.POINTER_START,s,!1)},remove_directAccessBar:function(){vs_gesture.removePointerListener(this._direct_access,vs_gesture.POINTER_START,this.__access_bar_start,!1),this.view.removeChild(this._direct_access),this._direct_access=void 0,this.view.removeChild(this._direct_access_value),this._direct_access_value=void 0},getTitlePosition:function(t){var e=this.getTitleItem(t);return e?e.offsetTop:0},getTitleItem:function(t){var e=this.view.querySelectorAll("ul > li > div").item(t);if(e)return e.parentElement}},vs_utils$1__default.extendClass(List,AbstractList),vs_utils$1__default.defineClassProperties(List,{itemsSelectable:{set:function(t){if((!t||!this._items_selectable)&&(t||this._items_selectable))if(t)for(this._items_selectable=!0,i=0;i<this.__item_obs.length;i++)obj=this.__item_obs[i],vs_gesture.addPointerListener(obj.view,vs_gesture.POINTER_START,this,!0);else for(this._items_selectable=!1,i=0;i<this.__item_obs.length;i++)obj=this.__item_obs[i],vs_gesture.removePointerListener(obj.view,vs_gesture.POINTER_START,this,!0)}},selectedIndex:{get:function(){return this._selected_index}},selectedItem:{get:function(){return this._selected_item}},type:{set:function(t){vs_utils$1__default.isString(t)&&(t!==List.BLOCK_LIST&&t!==List.TAB_LIST&&t!==List.DEFAULT_LIST||(this.removeClassName(this._type),this._type=t,this.addClassName(this._type),this._type===List.BLOCK_LIST&&(this._renderData=blockListRenderData,this._direct_access&&this.remove_directAccessBar()),this._type===List.TAB_LIST&&(this._renderData=tabListRenderData,this._direct_access||this.init_directAccessBar()),this._type===List.DEFAULT_LIST&&(this._renderData=defaultListRenderData,this._direct_access&&this.remove_directAccessBar()),this._renderData(this._items_selectable)))}},hasArrow:{set:function(t){t?(this._has_arrow=!0,this.addClassName("arrow")):(this._has_arrow=!1,this.removeClassName("arrow"))}},filters:{set:function(t){vs_utils$1__default.isArray(t)&&(this._filters=t,this.applyFilters(),this.refresh())},get:function(){return this._filters}}});var html_template$9='<div class="vs_ui_navigationbar" x-hag-hole="children"></div>';function NavigationBar$1(t){this.parent=View,this.parent(t),this.constructor=NavigationBar$1,this._states={}}NavigationBar$1.DEFAULT_STYLE="blue_style",NavigationBar$1.BLACK_TRANSLUCIDE_STYLE="black_translucide_style",NavigationBar$1.BLACK_STYLE="black_style",NavigationBar$1.prototype={html_template:html_template$9,_hide_animation:null,_show_animation:null,_style:NavigationBar$1.DEFAULT_STYLE,_states:null,_current_state:null,destructor:function(){View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this);window.deviceConfiguration.os==vs_core$1__default.DeviceConfiguration.OS_SYMBIAN?this._hide_animation=new Animation(["translateY","-50px"]):this._hide_animation=new Animation(["translateY","-44px"]),this._show_animation=new Animation(["translateY","0px"]),this.style=this._style},setStateItems:function(t,e){var i;if(t&&vs_utils$1__default.isString(t)&&e&&vs_utils$1__default.isArray(e))if(this._states[t]=e.slice(),this._current_state===t){for(key in this.__children)if(children=this.__children[key],vs_utils$1__default.isArray(children))for(i=0;i<children.length;i++)obj=children[i],e.findItem(obj)>=0||obj&&obj.hide&&obj.hide();else children.hide&&children.hide();for(i=0;i<e.length;i++)obj=e[i],this.isChild(obj)||this.add(obj,"children"),obj.show()}else for(i=0;i<e.length;i++)obj=e[i],this.isChild(obj)||this.add(obj,"children")},getStateItems:function(t,e){if(t&&vs_utils$1__default.isString(t))return this._states[t]?this._states[t].slice():void 0},changeState:function(t,e){if(t){var i,s,_,n,o,r,a=0;this._current_state=t,(_=this._states[this._current_state])||(_=[]),i=_.length;for(o in this.__children)if(s=this.__children[o],vs_utils$1__default.isArray(s))for(a=0;a<s.length;a++)n=s[a],_.findItem(n)>=0||n&&n.hide&&n.hide();else s.hide&&s.hide();for(a=0;a<i;a++){if(n=_[a],e&&e[n.id]){r=e[n.id];for(o in r)o&&(n[o]=r[o])}n&&n.show()}}},handleEvent:function(t){var e=t.currentTarget;switch(t.type){case vs_gesture.POINTER_START:vs_utils$1__default.addClassName(e,"active"),vs_gesture.addPointerListener(t.currentTarget,vs_gesture.POINTER_END,this,!0),vs_gesture.addPointerListener(t.currentTarget,vs_gesture.POINTER_MOVE,this,!0);break;case vs_gesture.POINTER_END:vs_gesture.removePointerListener(t.currentTarget,vs_gesture.POINTER_END,this),vs_gesture.removePointerListener(t.currentTarget,vs_gesture.POINTER_MOVE,this),vs_utils$1__default.removeClassName(e,"active"),this.propagate("buttonselect",t.currentTarget.spec);break;case vs_gesture.POINTER_MOVE:t.preventDefault(),vs_utils$1__default.removeClassName(e,"active"),vs_gesture.removePointerListener(t.currentTarget,vs_gesture.POINTER_END,this),vs_gesture.removePointerListener(t.currentTarget,vs_gesture.POINTER_MOVE,this)}},remove:function(t){var e,i;View.prototype.remove.call(this,t);for(e in this._states)-1!==(i=this._states[e]).indexOf(t)&&i.remove(t)}},vs_utils$1__default.extendClass(NavigationBar$1,View),vs_utils$1__default.defineClassProperties(NavigationBar$1,{style:{set:function(t){vs_utils$1__default.isString(t)&&(this._style&&this.removeClassName(this._style),this._style=t,this.addClassName(this._style))},get:function(){return this._style}},position:{set:function(t){},get:function(){return[this.view.offsetLeft,this.view.offsetTop]}},size:{set:function(t){},get:function(){return[this.view.offsetWidth,this.view.offsetHeight]}}});var html_template$10='<div class="vs_ui_picker">\n  <div class="slots"></div>\n  <div class="frame"></div>\n</div>';function Picker(t){this.parent=View,this.parent(t),this.constructor=Picker}Picker.NUMBERS={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},Picker.prototype={html_template:html_template$10,_mode:Application.CSS_DEFAULT,_cell_height:44,_friction:.003,_data:null,_slots_elements:null,_current_values:null,_selected_keys:null,_selected_values:null,destructor:function(){vs_gesture.removePointerListener(this.view,vs_gesture.POINTER_START,this,!1),vs_gesture.removePointerListener(document,vs_gesture.POINTER_START,this,!1),vs_gesture.removePointerListener(document,vs_gesture.POINTER_MOVE,this,!1),vs_utils$1__default.removeAllElementChild(this._slots_view),delete this._data,delete this._slots_elements,delete this._frame_view,delete this._slots_view,delete this._current_values,View.prototype.destructor.call(this)},initComponent:function(){switch(View.prototype.initComponent.call(this),this._data=[],this._slots_elements=[],this._mode=View.getDeviceCSSCode(),this._slots_view=this.view.querySelector(".slots"),this._frame_view=this.view.querySelector(".frame"),this._mode){case Application.CSS_BLACKBERRY:this._cell_height=50;case Application.CSS_DEFAULT:default:vs_gesture.addPointerListener(this.view,vs_gesture.POINTER_START,this),this._frame_border_width=0;break;case Application.CSS_WP7:this._cell_height=83;case Application.CSS_ANDROID:this._frame_view.parentElement.removeChild(this._frame_view)}},removeAllSlots:function(){delete this._data,this._data=[],this._remove_all_slots()},_remove_all_slots:function(){vs_utils$1__default.removeAllElementChild(this._slots_view),delete this._slots_elements,this._slots_elements=[],this._active_slot=null},_render_slots:function(){for(var t=0;t<this._data.length;t++)this._render_a_slot(t)},_render_a_slot:function(t){var e,i,s,_,n=this._data[t];if(n){var o=0,r=window.deviceConfiguration.os;n.length&&r==vs_core$1__default.DeviceConfiguration.OS_WP7&&(o=Math.floor(100/n.length)),(s=document.createElement("ul")).index=t,o&&vs_utils$1__default.setElementStyle(s,{width:o+"%"}),i="";for(e in n.values)i+="<li>"+n.values[e]+"</li>";if(vs_utils$1__default.safeInnerHTML(s,i),this._mode===Application.CSS_ANDROID){_=document.createElement("div");var a=this._generate_button(t);_.appendChild(a[0]);var l=document.createElement("div");l.className=n.style,l.appendChild(s),_.appendChild(l),_.appendChild(a[1])}else(_=document.createElement("div")).className=n.style,_.appendChild(s);switch(this._slots_view.appendChild(_),s.slotPosition=t,s.slotYPosition=0,this._mode){case Application.CSS_WP7:s.slotMaxScroll=this.view.clientHeight-s.clientHeight,vs_gesture.addPointerListener(s,vs_gesture.POINTER_START,this,!0)}s.style.webkitTransitionTimingFunction="cubic-bezier(0, 0, 0.2, 1)",vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(s,"translate3d(0,0,0)"):vs_utils$1__default.setElementTransform(s,"translate(0,0)"),this._slots_elements.push(s),n.defaultValue&&this.scrollToValue(t,n.defaultValue)}},_generate_button:function(t){var e=this._data[t].style.match("readonly"),i=document.createElement("div");e?i.className="button_incr readonly":(i.className="button_incr",vs_utils$1__default.setElementInnerText(i,"+"),i.slotPosition=t),e||(vs_gesture.addPointerListener(i,vs_gesture.POINTER_START,this),vs_gesture.addPointerListener(i,vs_gesture.POINTER_END,this),vs_gesture.addPointerListener(i,vs_gesture.POINTER_CANCEL,this));var s=document.createElement("div");return e?s.className="button_decr readonly":(s.className="button_decr",vs_utils$1__default.setElementInnerText(s,"-"),s.slotPosition=t),e||(vs_gesture.addPointerListener(s,vs_gesture.POINTER_START,this),vs_gesture.addPointerListener(s,vs_gesture.POINTER_END,this),vs_gesture.addPointerListener(s,vs_gesture.POINTER_CANCEL,this)),[i,s]},_buttonSelected:function(t){var e=t.target.slotPosition;switch(t.type){case vs_gesture.POINTER_START:vs_utils$1__default.addClassName(t.target,"active");break;case vs_gesture.POINTER_END:var i=this._slots_elements[e],s=i.slotYPosition;if(vs_utils$1__default.hasClassName(t.target,"button_decr"))(s+=44)>0&&(s=0);else{var _;(s-=44)<(_=this.getSlotMaxScroll(i))&&(s=_)}this._scrollTo(e,s);case vs_gesture.POINTER_CANCEL:vs_utils$1__default.removeClassName(t.target,"active")}},addSlot:function(t,e,i){e||(e="");var s={};s.values=t,s.style=e,s.defaultValue=i,this._data.push(s),this._render_a_slot(this._data.length-1)},getSelectedValues:function(){if(this._current_values)return this._current_values;var t,e,i,s,_,n;for(this._selected_keys=[],this._selected_values=[],i=0;i<this._slots_elements.length;i++)if(_=this._slots_elements[i]){_.removeEventListener(vs.TRANSITION_END,this,!1),_.style.setProperty(vs.TRANSITION_DURATION,"0"),n=this.getSlotMaxScroll(_),_.slotYPosition>0?this._setPosition(i,0):_.slotYPosition<n&&this._setPosition(i,n),t=-Math.round(_.slotYPosition/this._cell_height),e=0;for(s in this._data[i].values){if(e==t){this._selected_keys.push(s),this._selected_values.push(this._data[i].values[s]);break}e++}}return this._current_values={keys:this._selected_keys,values:this._selected_values},this._current_values},_getSelectedValues:function(){if(this._current_values)return this._current_values;var t,e,i,s,_;for(this._selected_keys=[],this._selected_values=[],i=0;i<this._slots_elements.length;i++)if(_=this._slots_elements[i]){t=-Math.round(_.slotYPosition/this._cell_height),e=0;for(s in this._data[i].values){if(e==t){this._selected_keys.push(s),this._selected_values.push(this._data[i].values[s]);break}e++}}return this._current_values={keys:this._selected_keys,values:this._selected_values},this._current_values},scrollToValue:function(t,e){var i,s,_,n=this._slots_elements[t],o=this._data[t];if(!n)return!1;if(!o)return!1;n.removeEventListener(vs.TRANSITION_END,this,!1),n.style.setProperty(vs.TRANSITION_DURATION,"0"),s=0;for(_ in o.values){if(_==e)return i=s*this._cell_height,this._setPosition(t,i),!0;s-=1}return!1},_setPosition:function(t,e){delete this._current_values;var i=this._slots_elements[t];i.slotYPosition=e,vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(i,"translate3d(0,"+e+"px,0)"):vs_utils$1__default.setElementTransform(i,"translate(0,"+e+"px)")},_scrollTo:function(t,e,i){var s,_=this._slots_elements[t];_.style.setProperty(vs.TRANSITION_DURATION,i?i+"ms":"100ms"),this._setPosition(t,e||0),s=this.getSlotMaxScroll(_),_.slotYPosition>0||_.slotYPosition<s?_.addEventListener(vs.TRANSITION_END,this,!1):(this._delegate&&this._delegate.pickerViewSelectRow&&this._delegate.pickerViewSelectRow(this),this.propagate("change",this._getSelectedValues()),this.outPropertyChange())},handleEvent:function(t){if(this._mode===Application.CSS_ANDROID)this._buttonSelected(t);else switch(t.type){case vs_gesture.POINTER_START:this._scrollStart(t);break;case vs_gesture.POINTER_MOVE:this._scrollMove(t);break;case vs_gesture.POINTER_END:this._scrollEnd(t);break;case vs.TRANSITION_END:this._backWithinBoundaries(t)}},__get_slot_index:function(t){var e=t.target;if("UL"===e.nodeName)return e.index;if("LI"===e.nodeName)return e.parentElement.index;if(e===this._frame_view){var i=this._getComputedStyle(this._frame_view);this._frame_border_width=i?parseInt(i.getPropertyValue("border-left-width")):0;var s=0,_=vs_utils$1__default.getBoundingClientRect(this._slots_view);this._mode==Application.CSS_BLACKBERRY&&(s=8);for(var n=t.clientX-_.left-this._frame_border_width-s,o=0,r=0;r<this._slots_elements.length;r++)if(n<(o+=this._slots_elements[r].offsetWidth))return r}},_scrollStart:function(t){if(t.nbPointers>1)return!1;t.preventDefault(),t.stopPropagation();var e=t.targetPointerList[0];switch(this._active_slot=void 0,this._mode){default:this._active_slot=this.__get_slot_index(e);break;case Application.CSS_WP7:this._active_slot=t.currentTarget.index,vs_utils$1__default.addClassName("dragging")}if(void 0!==this._active_slot){if(this._data[this._active_slot].style.match("readonly"))return vs_gesture.removePointerListener(document,vs_gesture.POINTER_MOVE,this,!0),vs_gesture.removePointerListener(document,vs_gesture.POINTER_END,this,!0),!1;var i=this._slots_elements[this._active_slot];if(i.slotMaxScroll=this.getSlotMaxScroll(i),i.removeEventListener(vs.TRANSITION_END,this,!1),i.style.setProperty(vs.TRANSITION_DURATION,"0"),vs_utils$1__default.SUPPORT_3D_TRANSFORM){var s=vs_utilsgetElementMatrixTransform(i).m42;s!=i.slotYPosition&&this._setPosition(this._active_slot,s)}switch(this.startY=e.pageY,this.scrollStartY=i.slotYPosition,this.scrollStartTime=t.timeStamp,vs_gesture.addPointerListener(document,vs_gesture.POINTER_MOVE,this,!0),vs_gesture.addPointerListener(document,vs_gesture.POINTER_END,this,!0),this._mode){case Application.CSS_WP7:case Application.CSS_BLACKBERRY:this.__timer&&(clearTimeout(this.__timer),this.__timer=0),this.__elem_to_hide&&this.__elem_to_hide!=i&&(vs_utils$1__default.removeClassName(this.__elem_to_hide.parentElement,"visible"),this.__elem_to_hide=null),vs_utils$1__default.addClassName(i.parentElement,"visible")}return!0}},_scrollMove:function(t){t.preventDefault(),t.stopPropagation();var e=t.targetPointerList[0],i=e.pageY-this.startY,s=this._slots_elements[this._active_slot];(s.slotYPosition>0||s.slotYPosition<s.slotMaxScroll)&&(i/=2),this._setPosition(this._active_slot,s.slotYPosition+i),this.startY=e.pageY,t.timeStamp-this.scrollStartTime>80&&(this.scrollStartY=s.slotYPosition,this.scrollStartTime=t.timeStamp)},_scrollEnd:function(t){vs_gesture.removePointerListener(document,vs_gesture.POINTER_MOVE,this,!0),vs_gesture.removePointerListener(document,vs_gesture.POINTER_END,this,!0);var e,i,s,_=this._slots_elements[this._active_slot],n=this;if(_){switch(this._mode){case Application.CSS_BLACKBERRY:case Application.CSS_WP7:_.parentElement&&(this.__elem_to_hide=_,this.__timer=setTimeout(function(){vs_utils$1__default.removeClassName(n.__elem_to_hide.parentElement,"visible"),n.__elem_to_hide=null,n.removeClassName("dragging")},1e3))}return _.slotYPosition>0||_.slotYPosition<_.slotMaxScroll?(this._scrollTo(this._active_slot,_.slotYPosition>0?0:_.slotMaxScroll),!1):(e=_.slotYPosition-this.scrollStartY)<this._cell_height/1.5&&e>-this._cell_height/1.5?(_.slotYPosition%this._cell_height&&this._scrollTo(this._active_slot,Math.round(_.slotYPosition/this._cell_height)*this._cell_height,100),!1):(i=2*e/(t.timeStamp-this.scrollStartTime)/this._friction,e=this._friction/2*(i*i),i<0&&(i=-i,e=-e),(s=_.slotYPosition+e)>0?(i/=3,(s/=2)>this.view.clientHeight/4&&(s=this.view.clientHeight/4)):s<_.slotMaxScroll?(i/=3,(s=(s-_.slotMaxScroll)/2+_.slotMaxScroll)<_.slotMaxScroll-this.view.clientHeight/4&&(s=_.slotMaxScroll-this.view.clientHeight/4)):s=Math.round(s/this._cell_height)*this._cell_height,this._scrollTo(this._active_slot,Math.round(s),Math.round(i)),!0)}},getSlotMaxScroll:function(t){switch(this._mode){case Application.CSS_DEFAULT:default:return this.view.clientHeight-t.clientHeight-66;case Application.CSS_IOS:return this.view.clientHeight-t.clientHeight-86;case Application.CSS_SYMBIAN:return this.view.clientHeight-t.clientHeight-80;case Application.CSS_BLACKBERRY:return this.view.clientHeight-t.clientHeight-93;case Application.CSS_WP7:return this.view.clientHeight-t.clientHeight-103;case Application.CSS_ANDROID:return this.view.clientHeight-t.clientHeight-121}return 0},_backWithinBoundaries:function(t){var e=t.target;return e.removeEventListener(vs.TRANSITION_END,this,!1),slotMaxScroll=this.getSlotMaxScroll(e),this._scrollTo(e.slotPosition,e.slotYPosition>0?0:slotMaxScroll,150),!1}},vs_utils$1__default.extendClass(Picker,View),vs_utils$1__default.defineClassProperties(Picker,{delegate:{set:function(t){this._delegate=t}},data:{set:function(t){var e,i,s,_,n;if(vs_utils$1__default.isArray(t))for(this.removeAllSlots(),n=0;n<t.length;n++)i=(e=t[n]).values,s=e.style,_=e.defaultValue,i&&this.addSlot(i,s,_)}},selectedKeys:{get:function(){return this._current_values||this.getSelectedValues(),this._selected_keys}},selectedValues:{get:function(){return this._current_values||this.getSelectedValues(),this._selected_values}}});var html_template$11='<div class="vs_ui_popover">\n  <div class="header" x-hag-hole="header"></div>\n  <div class="center" x-hag-hole="children"></div>\n  <div class="footer" x-hag-hole="footer"></div>\n  <div class="arrow"></div>\n</div>';function PopOver$1(t){this.parent=View,this.parent(t),this.constructor=PopOver$1}PopOver$1.BELOW=0,PopOver$1.ABOVE=1,PopOver$1.LEFT=2,PopOver$1.RIGHT=3,PopOver$1.prototype={html_template:html_template$11,_point_position:null,_has_footer:!1,_has_header:!1,initComponent:function(){View.prototype.initComponent.call(this),this._arrow=this.view.querySelector(".vs_ui_popover >.arrow"),this.__show_clb=this._endShowConfiguration},_endShowConfiguration:function(){var t,e,i={},s=this.size,_=window.innerHeight,n=window.innerWidth;if(void 0!==this.__direction&&this._point_position){switch(i.x=this._point_position[0]-s[0]/2,i.y=this._point_position[1]-s[1]/2,i.width=s[0],i.height=s[1],this.__direction!==PopOver$1.BELOW&&this.__direction!==PopOver$1.ABOVE&&this.__direction!==PopOver$1.RIGHT&&this.__direction!==PopOver$1.LEFT&&(this._point_position[0]>n/2?this.__direction=PopOver$1.RIGHT:this.__direction=PopOver$1.LEFT,this._point_position[1]+i.height+30<_?this.__direction=PopOver$1.BELOW:this._point_position[1]-i.height-30>0&&(this.__direction=PopOver$1.ABOVE)),this.__direction){case PopOver$1.BELOW:i.y=i.y+s[1]/2+15,i.x<5&&(i.x=5),i.x+i.width>n&&(i.x=n-i.width-5),this._arrow.className="arrow top",t=this._point_position[0]-i.x-15-8,this._arrow.style.left="5px",this._arrow.style.right="5px",this._arrow.style["-webkit-mask-position-x"]=t+"px",this._arrow.style["-webkit-mask-position-y"]="0px";break;case PopOver$1.ABOVE:i.y=i.y-s[1]/2-15,i.x<5&&(i.x=5),i.x+i.width>n&&(i.x=n-i.width-5),this._arrow.className="arrow bottom",t=this._point_position[0]-i.x-15-8,this._arrow.style.left="5px",this._arrow.style.right="5px",this._arrow.style["-webkit-mask-position-x"]=t+"px",this._arrow.style["-webkit-mask-position-y"]="0px";break;case PopOver$1.RIGHT:i.x=i.x-s[0]/2-15,i.y<5&&(i.y=5),i.y+i.height>_-20&&(i.y=_-i.height-20),this._arrow.className="arrow right",t=i.height-(this._point_position[1]-i.y+15)-2,this._arrow.style.left="auto",this._arrow.style.right="-13px",this._arrow.style["-webkit-mask-position-x"]="0px",this._arrow.style["-webkit-mask-position-y"]=t+"px";break;case PopOver$1.LEFT:i.x=i.x+s[0]/2+15,i.y<5&&(i.y=5),i.y+i.height>_-20&&(i.y=_-i.height-20),this._arrow.className="arrow left",t=this._point_position[1]-i.y-15-2,this._arrow.style.left="-13px",this._arrow.style.right="auto",this._arrow.style["-webkit-mask-position-x"]="0px",this._arrow.style["-webkit-mask-position-y"]=t+"px"}e=vs_utils$1__default.getElementAbsolutePosition(this.view.parentElement),this.position=e?[i.x-e.x,i.y-e.y]:[i.x,i.y],this.size=[i.width,i.height]}this.redraw()},show:function(t,e,i){this.view&&!this._visible&&(t&&vs_utils$1__default.isArray(t)&&2===t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])?this._point_position=t.slice():this._point_position=null,this.__direction=e,this.view.style.setProperty("display","block",null),this.__view_display=void 0,this.__is_hidding=!1,this.__is_showing=!0,this._show_animation?this._show_animation.process(this,function(){this._show_object(i)},this):this._show_object(i),vs_gesture.addPointerListener(document,vs_gesture.POINTER_START,this,!0))},handleEvent:function(t){this.childOf(t.target,this.view)||(t.preventDefault(),t.stopPropagation(),this.hide())},childOf:function(t,e){if(t===e)return!0;for(t=t.parentElement;t;){if(t===e)return!0;t=t.parentElement}return!1},hide:function(){this.view&&(View.prototype.hide.call(this),vs_gesture.removePointerListener(document,vs_gesture.POINTER_START,this,!0),this.view.style.display="none")}},vs_utils$1__default.extendClass(PopOver$1,View),vs_utils$1__default.defineClassProperties(PopOver$1,{hasFooter:{set:function(t){this._has_footer=!!t,this.view&&this._has_footer&&this.addClassName("withFooter"),this.view&&!this._has_footer&&this.removeClassName("withFooter")},get:function(){return this._has_footer}},hasHeader:{set:function(t){this._has_header=!!t,this.view&&this._has_header&&this.addClassName("withHeader"),this.view&&!this._has_header&&this.removeClassName("withHeader")},get:function(){return this._has_header}}});var html_template$12='<div class="vs_ui_progressbar"><div></div></div>';function ProgressBar(t){this.parent=View,this.parent(t),this.constructor=ProgressBar,this._range=[0,100]}ProgressBar.BORDER_WIDTH_IOS=5,ProgressBar.BORDER_WIDTH_ANDROID=5,ProgressBar.BORDER_WIDTH_WP7=0,ProgressBar.BORDER_WIDTH_SYMBIAN=0,ProgressBar.BORDER_WIDTH_BB=1,ProgressBar.prototype={html_template:html_template$12,__inner_view:null,_index:0,_indeterminate:!1,_range:null,__border_width:0,destructor:function(){View.prototype.destructor.call(this)},_updateSize:function(){vs_utils$1__default.setElementSize(this.view,this._size[0],this._size[1]),this.index=this._index},initComponent:function(){View.prototype.initComponent.call(this),this.__inner_view=this.view.firstElementChild,this.indeterminate=this._indeterminate;var t=window.deviceConfiguration.os;t==vs_core$1__default.DeviceConfiguration.OS_ANDROID?this.__border_width=2*ProgressBar.BORDER_WIDTH_ANDROID:t==vs_core$1__default.DeviceConfiguration.OS_IOS?this.__border_width=2*ProgressBar.BORDER_WIDTH_IOS:t==vs_core$1__default.DeviceConfiguration.OS_WP7?this.__border_width=2*ProgressBar.BORDER_WIDTH_WP7:t==vs_core$1__default.DeviceConfiguration.OS_SYMBIAN?this.__border_width=2*ProgressBar.BORDER_WIDTH_SYMBIAN:t==vs_core$1__default.DeviceConfiguration.OS_BLACK_BERRY&&(this.__border_width=2*ProgressBar.BORDER_WIDTH_BB),this.index=this._index},refresh:function(){this.index=this._index,View.prototype.refresh.call(this)}},vs_utils$1__default.extendClass(ProgressBar,View),vs_utils$1__default.defineClassProperties(ProgressBar,{index:{set:function(t){if(vs_utils$1__default.isNumber(t)&&(this._index=t,this.__inner_view)){var e,i=this.size[0];(e=(i-=this.__border_width)*(this._index-this._range[0])/(this._range[1]-this._range[0]))>i&&(e=i),e<0&&(e=0);var s=window.deviceConfiguration.os;s===vs_core$1__default.DeviceConfiguration.OS_ANDROID||s===vs_core$1__default.DeviceConfiguration.OS_IOS?this.__inner_view.style.width=e+this.__border_width+"px":this.__inner_view.style.width=e+"px"}},get:function(){return this._index}},range:{set:function(t){vs_utils$1__default.isArray(t)&&2===t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(t[0]===t[1]||t[0]>t[1]||(this._range[0]=t[0],this._range[1]=t[1],this.index=this._index))},get:function(){return this._range.slice()}},indeterminate:{set:function(t){t?(this._indeterminate=!0,this.view&&vs_utils$1__default.addClassName(this.view,"indeterminate")):(this._indeterminate=!1,this.view&&vs_utils$1__default.removeClassName(this.view,"indeterminate"))},get:function(){return this._indeterminate}}});var html_template$13='<div class="vs_ui_radiobutton"><fieldset x-hag-hole="item_children"></div>';function RadioButton(t){this.__inputs=[],this.__labels=[],this.parent=AbstractList,this.parent(t),this.constructor=RadioButton}RadioButton.prototype={html_template:html_template$13,_selected_index:-1,__inputs:null,__labels:null,clean_gui:function(){var t;for(this.__scroll_start=0,vs_utils$1__default.removeAllElementChild(this._list_items);this.__inputs.length;)t=this.__inputs[0],vs_gesture.removePointerListener(t,vs_gesture.POINTER_START,this),t.removeEventListener("click",this),this.__inputs.remove(0),this.__labels.remove(0)},_renderData:function(){if(this._model){var t,e,i,s,_;if(this._list_items){this.clean_gui(),this._selected_index=-1;window.deviceConfiguration.os;for(t=0,s=this._model.length;t<s;t++)i=this._model.item(t),(e=document.createElement("input")).type="radio",e.name=this._id,e.value=t,e.id=this._id+"_l"+t,this._list_items.appendChild(e),this.__inputs[t]=e,vs_gesture.addPointerListener(e,vs_gesture.POINTER_START,this),e.addEventListener("click",this),(_=document.createElement("label")).value=t,_.setAttribute("for",this._id+"_l"+t),vs_gesture.addPointerListener(_,vs_gesture.POINTER_START,this),_.addEventListener("click",this),vs_utils$1__default.setElementInnerText(_,i),this._list_items.appendChild(_),this.__labels[t]=_;this.refresh()}else console.error("vs.ui.RadioButton uncorrectly initialized.")}},_touchItemFeedback:function(t){var e=t.value,i=this.__inputs[e],s=this.__labels[e];vs_utils$1__default.addClassName(i,"pressed"),vs_utils$1__default.addClassName(s,"pressed")},_untouchItemFeedback:function(t){var e=t.value,i=this.__inputs[e],s=this.__labels[e];vs_utils$1__default.removeClassName(i,"pressed"),vs_utils$1__default.removeClassName(s,"pressed")},_updateSelectItem:function(t){var e=parseInt(t.value);t._comp_&&t._comp_.didSelect&&t._comp_.didSelect(),(e>=0||e<this.__inputs.length)&&(this.selectedIndex=e,this.outPropertyChange(),this.propagate("change",{index:this._selected_index,item:this._model.item(this._selected_index)}))}},vs_utils$1__default.extendClass(RadioButton,AbstractList),vs_utils$1__default.defineClassProperty(RadioButton,"selectedIndex",{set:function(t){if(vs_utils$1__default.isNumber(t)||(t=parseInt(t)),!isNaN(t)&&!(t<0||t>this.__inputs.length-1)&&this.__inputs[t]){var e=this.__inputs[t];e&&(e.checked=!0),this._selected_index=t}},get:function(){return this._selected_index}});function DragRecognizer(t){this.parent=PointerRecognizer,this.parent(t),this.constructor=DragRecognizer}DragRecognizer.prototype={__is_dragged:!1,init:function(t){PointerRecognizer.prototype.init.call(this,t),this.addPointerListener(this.obj.view,vs_gesture.POINTER_START,this.obj),this.reset()},uninit:function(){this.removePointerListener(this.obj.view,vs_gesture.POINTER_START,this.obj)},pointerStart:function(t){if(!this.__is_dragged&&t.targetPointerList&&!(t.targetPointerList.length>1)){var e=t.targetPointerList[0];this.__start_x=e.pageX,this.__start_y=e.pageY,this.__pointer_id=e.identifier,this.__is_dragged=!0,this.addPointerListener(document,vs_gesture.POINTER_END,this.obj),this.addPointerListener(document,vs_gesture.POINTER_MOVE,this.obj);try{this.delegate&&this.delegate.didDragStart&&this.delegate.didDragStart(t,t.targetPointerList[0].currentTarget._comp_)}catch(t){t.stack&&console.log(t.stack),console.log(t)}return!1}},pointerMove:function(t){if(this.__is_dragged){for(var e,i,s,_=0,n=t.targetPointerList.length;_<n&&(e=t.targetPointerList[_]).identifier!==this.__pointer_id;_++)e=null;if(e){i=e.pageX-this.__start_x,s=e.pageY-this.__start_y;try{this.delegate&&this.delegate.didDrag&&this.delegate.didDrag({dx:i,dy:s},t,t.targetPointerList[0].currentTarget._comp_)}catch(t){t.stack&&console.log(t.stack),console.log(t)}}}},pointerEnd:function(t){if(this.__is_dragged){for(var e,i=0,s=t.changedPointerList.length;i<s&&(e=t.changedPointerList[i]).identifier!==this.__pointer_id;i++)e=null;if(e){this.__is_dragged=!1,this.__start_x=void 0,this.__start_y=void 0,this.__pointer_id=void 0,this.removePointerListener(document,vs_gesture.POINTER_END,this.obj),this.removePointerListener(document,vs_gesture.POINTER_MOVE,this.obj);try{this.delegate&&this.delegate.didDragEnd&&this.delegate.didDragEnd(t,t.changedPointerList[0].target._comp_)}catch(t){t.stack&&console.log(t.stack),console.log(t)}}}},pointerCancel:function(t){return this.pointerEnd(t)}},vs_utils$1__default.extendClass(DragRecognizer,PointerRecognizer);function PinchRecognizer(t){this.parent=PointerRecognizer,this.parent(t),this.constructor=PinchRecognizer}PinchRecognizer.prototype={init:function(t){PointerRecognizer.prototype.init.call(this,t),this.addPointerListener(this.obj.view,vs_gesture.GESTURE_START,this.obj),this.reset()},uninit:function(){this.removePointerListener(this.obj.view,vs_gesture.GESTURE_START,this.obj)},gestureStart:function(t){this.addPointerListener(document,vs_gesture.GESTURE_CHANGE,this.obj),this.addPointerListener(document,vs_gesture.GESTURE_END,this.obj);try{this.delegate&&this.delegate.didPinchStart&&this.delegate.didPinchStart(event,event.targetPointerList[0].target._comp_)}catch(t){t.stack&&console.log(t.stack),console.log(t)}return!1},gestureChange:function(t){try{this.delegate&&this.delegate.didPinchChange&&this.delegate.didPinchChange(t.scale,t,t.targetPointerList[0].target._comp_)}catch(t){t.stack&&console.log(t.stack),console.log(t)}},gestureEnd:function(t){this.removePointerListener(document,vs_gesture.GESTURE_CHANGE,this.obj),this.removePointerListener(document,vs_gesture.GESTURE_END,this.obj);try{this.delegate&&this.delegate.didPinchEnd&&this.delegate.didPinchEnd(event,event.targetPointerList[0].target._comp_)}catch(t){t.stack&&console.log(t.stack),console.log(t)}},pointerCancel:function(t){return this.pointerEnd(t)}},vs_utils$1__default.extendClass(PinchRecognizer,PointerRecognizer);function RotationRecognizer(t){this.parent=PointerRecognizer,this.parent(t),this.constructor=RotationRecognizer}RotationRecognizer.prototype={init:function(t){PointerRecognizer.prototype.init.call(this,t),this.addPointerListener(this.obj.view,vs_gesture.GESTURE_START,this.obj),this.reset()},uninit:function(){this.removePointerListener(this.obj.view,vs_gesture.GESTURE_START,this.obj)},gestureStart:function(t){this.addPointerListener(document,vs_gesture.GESTURE_CHANGE,this.obj),this.addPointerListener(document,vs_gesture.GESTURE_END,this.obj);try{this.delegate&&this.delegate.didRotationStart&&this.delegate.didRotationStart(event)}catch(t){t.stack&&console.log(t.stack),console.log(t)}return!1},gestureChange:function(t){try{this.delegate&&this.delegate.didRotationChange&&this.delegate.didRotationChange(t.rotation,t)}catch(t){t.stack&&console.log(t.stack),console.log(t)}},gestureEnd:function(t){this.removePointerListener(document,vs_gesture.GESTURE_CHANGE,this.obj),this.removePointerListener(document,vs_gesture.GESTURE_END,this.obj);try{this.delegate&&this.delegate.didRotationEnd&&this.delegate.didRotationEnd(event)}catch(t){t.stack&&console.log(t.stack),console.log(t)}},pointerCancel:function(t){return this.pointerEnd(t)}},vs_utils$1__default.extendClass(RotationRecognizer,PointerRecognizer);var html_template$14='<div class="vs_ui_scrollimageview"><img class="content"></div>\n';function ScrollImageView(t){this.parent=ScrollView,this.parent(t),this.constructor=ScrollImageView}ScrollImageView.STRETCH_NONE=0,ScrollImageView.STRETCH_FILL=1,ScrollImageView.STRETCH_UNIFORM=2,ScrollImageView.STRETCH_UNIFORM_FILL=3,ScrollImageView.prototype={html_template:html_template$14,_image_data:null,_image_width:0,_image_height:0,_image_loaded:!1,_src:null,_stretch:ScrollImageView.STRETCH_FILL,destructor:function(){this._sub_view&&(this._image_data.onload=null,delete this._image_data,this._image_loaded=!1,this._sub_view.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),ScrollView.prototype.destructor.call(this)},show:function(){ScrollView.prototype.show.call(this),this.stretch=this._stretch},refresh:function(){if(this._sub_view&&this._image_loaded)if(this._stretch===ScrollImageView.STRETCH_FILL)this._sub_view.setAttribute("width","100%"),this._sub_view.setAttribute("height","100%");else if(this._stretch===ScrollImageView.STRETCH_NONE)this._sub_view.removeAttribute("width"),this._sub_view.removeAttribute("height");else if(this._stretch===ScrollImageView.STRETCH_UNIFORM){var t=0,e=1;this._size[0]/this._size[1]<this._image_width/this._image_height?(e=this._image_width/this._size[0],t=(this._size[1]-this._image_height/e)/2,this._sub_view.setAttribute("width","100%"),this._sub_view.removeAttribute("height"),this._sub_view.style.left="0px",this._sub_view.style.top=t+"px"):(e=this._image_height/this._size[1],t=(this._size[0]-this._image_width/e)/2,this._sub_view.removeAttribute("width"),this._sub_view.setAttribute("height","100%"),this._sub_view.style.top="0px",this._sub_view.style.left=t+"px")}else if(this._stretch===ScrollImageView.STRETCH_UNIFORM_FILL){this._size[0]/this._size[1]>this._image_width/this._image_height?(this._sub_view.setAttribute("width","100%"),this._sub_view.removeAttribute("height")):(this._sub_view.removeAttribute("width"),this._sub_view.setAttribute("height","100%"))}this.__scroll_activated&&this._scroll_refresh(this._pinch),View.prototype.refresh.call(this)},_image_onload:function(t){this._image_loaded=!0,this._image_width=this._image_data.width,this._image_height=this._image_data.height,this._sub_view&&(this._sub_view.src=this._src),this.stretch=this._stretch,this.propagate("load");var e=this;vs_core$1__default.scheduleAction(function(){e.refresh()})},initComponent:function(){ScrollView.prototype.initComponent.call(this);var t=this;this._image_data=new Image,this._image_data.onload=function(e){t._image_onload(e)},this.pinch=this._pinch,this.pan=this._pan,this._sub_view&&this._sub_view.src&&(this._src=this._sub_view.getAttribute("src"),this._image_data.src=this._src,this._image_onload()),this._sub_view&&(this._sub_view.ondragstart=function(t){return t.preventDefault(),!1},this.stretch=this._stretch),this.refresh()}},vs_utils$1__default.extendClass(ScrollImageView,ScrollView),vs_utils$1__default.defineClassProperties(ScrollImageView,{src:{set:function(t){vs_utils$1__default.isString(t)&&(this._image_loaded=!1,this._src=t,this._image_data.src=this._src)},get:function(){return this._src}},stretch:{set:function(t){vs_utils$1__default.isNumber(t)&&(t!==ScrollImageView.STRETCH_FILL&&t!==ScrollImageView.STRETCH_NONE&&t!==ScrollImageView.STRETCH_UNIFORM&&t!==ScrollImageView.STRETCH_UNIFORM_FILL||(this._stretch=t,this.refresh()))},get:function(){return this._stretch}},size:{set:function(t){(vs_utils$1__default.isArray(t)||2===t.length||vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1]))&&(this.stretch=this._stretch,this._size[0]=t[0],this._size[1]=t[1],this._updateSizeAndPos())},get:function(){return this.view&&this.view.parentNode&&(this._size[0]=this.view.offsetWidth,this._size[1]=this.view.offsetHeight),this._size.slice()}}});var html_template$15='<div class="vs_ui_segmentedbutton"></div>';function SegmentedButton(t){this.parent=View,this.parent(t),this.constructor=SegmentedButton}SegmentedButton.DEFAULT_TYPE="default",SegmentedButton.BAR_TYPE="bar",SegmentedButton.HORIZONTAL=0,SegmentedButton.VERTICAL=1,SegmentedButton.prototype={html_template:html_template$15,_type:SegmentedButton.DEFAULT_TYPE,_is_toggle_buttons:!0,_items:null,_selected_index:-1,_div_list:null,_orientation:SegmentedButton.HORIZONTAL,destructor:function(){this._cleanButtons(),View.prototype.destructor.call(this)},_cleanButtons:function(t){if(this.view)for(vs_utils$1__default.removeAllElementChild(this.view);this._div_list.length;){var e=this._div_list[0];vs_gesture.removePointerListener(e,vs_gesture.POINTER_START,this),this._div_list.remove(0)}},_renderButtons:function(t){if(this.view){this._cleanButtons();var e="",i=window.deviceConfiguration.os;this._items.length&&i==vs_core$1__default.DeviceConfiguration.OS_WP7&&(e=Math.floor(100/this._items.length));var s=document.createElement("div");this.view.appendChild(s);for(var _=0,n=this._items.length;_<n;_++){var o=document.createElement("div");o._index=_,vs_utils$1__default.setElementInnerText(o,this._items[_]),e&&vs_utils$1__default.setElementStyle(o,{width:e+"%"}),vs_gesture.addPointerListener(o,vs_gesture.POINTER_START,this),this._div_list.push(o),s.appendChild(o)}this.orientation=this._orientation}},initComponent:function(){View.prototype.initComponent.call(this),this._items=new Array,this._div_list=new Array,this._renderButtons(),this.selectedIndex=this._selected_index,this.type=this._type},handleEvent:function(t){var e;if(t.type===vs_gesture.POINTER_START){if(t.nbPointers>1)return;return(e=t.target).tagName||(e=e.parentElement),this._selected_index===e._index?!1:(t.stopPropagation(),t.preventDefault(),this.selectedIndex=e._index,this.propagate("select",{index:this._selected_index,item:this._items[this._selected_index]}),this.outPropertyChange(),!1)}}},vs_utils$1__default.extendClass(SegmentedButton,View),vs_utils$1__default.defineClassProperties(SegmentedButton,{items:{set:function(t){if(vs_utils$1__default.isArray(t)&&t.length){this._items.removeAll();for(var e=0,i=t.length;e<i;e++)t[e]&&this._items.push(t[e].toString());this._renderButtons(),this._is_toggle_buttons&&(this.selectedIndex=this._selected_index)}},get:function(){return this._text}},selectedIndex:{set:function(t){if(vs_utils$1__default.isNumber(t)&&!(t<0||t>=this._div_list.length)){(e=this._div_list[this._selected_index])&&vs_utils$1__default.removeClassName(e,"selected"),this._selected_index=t;var e;if((e=this._div_list[this._selected_index])&&vs_utils$1__default.addClassName(e,"selected"),!this._is_toggle_buttons){var i=this;this.__button_time_out=setTimeout(function(){vs_utils$1__default.removeClassName(e,"selected"),i.__button_time_out=0,i._selected_index=-1},300)}}},get:function(){return this._selected_index}},type:{set:function(t){vs_utils$1__default.isString(t)&&(this._type&&this.removeClassName(this._type),this._type=t,this.addClassName(this._type))},get:function(){return this._type}},isToggleButtons:{set:function(t){this._is_toggle_buttons=!!t},get:function(){return this._is_toggle_buttons}},orientation:{set:function(t){t!==SegmentedButton.HORIZONTAL&&t!==SegmentedButton.VERTICAL||(this._orientation=t,0===this._orientation?(this.removeClassName("vertical"),this.addClassName("horizontal")):(this.addClassName("vertical"),this.removeClassName("horizontal")))},get:function(){return this._orientation}}});var html_template$16='<div class="vs_ui_slider"><div class="handle"></div></div>';function Slider(t){this.parent=View,this.parent(t),this.constructor=Slider,this._range=[0,100]}Slider.HORIZONTAL=0,Slider.VERTICAL=1,Slider.prototype={html_template:html_template$16,_orientation:Slider.HORIZONTAL,_value:0,_range:null,__v:0,__drag_x:0,__drag_y:0,__handle:null,__handle_width:0,__handle_delta:10,destructor:function(){this.__drag_recognizer&&(this.removePointerRecognizer(this.__drag_recognizer),this.__drag_recognizer=null),View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this);var t=View.getDeviceCSSCode();t==Application.CSS_IOS?this.__handle_width=28:t==Application.CSS_WP7?this.__handle_width=30:t==Application.CSS_ANDROID?this.__handle_width=34:t==Application.CSS_BLACKBERRY?(this.__handle_width=35,this.__handle_height=12,this.__handle_delta=3):this.__handle_width=23,this.__handle=this.view.querySelector(".handle"),vs_gesture.addPointerListener(this.__handle,vs_gesture.POINTER_START,this,!0),this.__drag_recognizer||(this.__drag_recognizer=new DragRecognizer(this),this.addPointerRecognizer(this.__drag_recognizer)),this.orientation=this._orientation,this.value=this._value},didDragStart:function(t){if(0!==t.targetPointerList.length){this.__handle_width=this.__handle.offsetWidth,this.__handle_x=this.__handle.offsetLeft,this.__handle_y=this.__handle.offsetTop,this.__abs_pos=vs_utils$1__default.getElementAbsolutePosition(this.view);var e=t.targetPointerList[0].pageX-this.__abs_pos.x,i=t.targetPointerList[0].pageY-this.__abs_pos.y;0===this._orientation?this.value=this._range[0]+(this._range[1]-this._range[0])*e/this.view.offsetWidth:this.value=this._range[0]+(this._range[1]-this._range[0])*i/this.view.offsetHeight,this.__v=this._value,this.outPropertyChange(),this.propagate("continuous_change",this._value),this.propagate("change",this._value)}},didDrag:function(t,e){if(0!==e.targetPointerList.length){var i=e.targetPointerList[0].pageX-this.__abs_pos.x,s=e.targetPointerList[0].pageY-this.__abs_pos.y;0===this._orientation?this.value=this._range[0]+(this._range[1]-this._range[0])*i/this.view.offsetWidth:this.value=this._range[0]+(this._range[1]-this._range[0])*s/this.view.offsetHeight,this.outPropertyChange(),this.propagate("continuous_change",this._value)}},didDragEnd:function(){this.propagate("change",this._value)},refresh:function(){this.__handle_width=this.__handle.offsetWidth,0===this._orientation?this.__handle_delta=this.view.offsetHeight:this.__handle_delta=this.view.offsetWidth,this.value=this._value,View.prototype.refresh.call(this)}},vs_utils$1__default.extendClass(Slider,View),vs_utils$1__default.defineClassProperties(Slider,{value:{set:function(t){var e,i,s,_;if(!isNaN(t)){t<this._range[0]&&(t=this._range[0]),t>this._range[1]&&(t=this._range[1]),this._value=t;var n=this.__handle_width/2,o=0;o=window.deviceConfiguration.os===vs_core$1__default.DeviceConfiguration.OS_BLACK_BERRY?(this.__handle_height-this.__handle_delta)/2:(this.__handle_width-this.__handle_delta)/2,0===this._orientation?(i=this.view.offsetWidth,s=Math.floor((t-this._range[0])*i/(this._range[1]-this._range[0]))-n,vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(this.__handle,"translate3d("+s+"px,-"+o+"px,0)"):vs_utils$1__default.setElementTransform(this.__handle,"translate("+s+"px,-"+o+"px)"),this.view.style.backgroundSize=s+n+"px 10px"):(e=this.view.offsetHeight,_=Math.floor((t-this._range[0])*e/(this._range[1]-this._range[0]))-n,vs_utils$1__default.SUPPORT_3D_TRANSFORM?vs_utils$1__default.setElementTransform(this.__handle,"translate3d(-"+o+"px,"+_+"px,0)"):vs_utils$1__default.setElementTransform(this.__handle,"translate(-"+o+"px,"+_+"px)"),this.view.style.backgroundSize="10px "+(_+n)+"px")}},get:function(){return this._value}},range:{set:function(t){vs_utils$1__default.isArray(t)&&2===t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(t[0]===t[1]||t[0]>t[1]||(this._range[0]=t[0],this._range[1]=t[1],this.value=this._value))},get:function(){return this._range.slice()}},orientation:{set:function(t){t!==Slider.HORIZONTAL&&t!==Slider.VERTICAL||(this._orientation=t,0===this._orientation?(this.removeClassName("vertical"),this.addClassName("horizontal")):(this.addClassName("vertical"),this.removeClassName("horizontal")),this.value=this._value)},get:function(){return this._orientation}},size:{set:function(t){t&&vs_utils$1__default.isArray(t)&&2===t.length&&vs_utils$1__default.isNumber(t[0])&&vs_utils$1__default.isNumber(t[1])&&(this._size[0]=t[0],this._size[1]=t[1],this.view&&(this._updateSizeAndPos(),this.value=this._value))},get:function(){return this.view&&this.view.parentNode&&(this._size[0]=this.view.offsetWidth,this._size[1]=this.view.offsetHeight),this._size.slice()}}});var html_template$17='<div class="vs_ui_splitview">\n  <div x-hag-hole="second_panel"></div>\n  <div x-hag-hole="main_panel"></div>\n</div>',SplitView=vs_core$1__default.createClass({parent:View,properties:{delegate:{set:function(t){this._delegate=t}},mode:{set:function(t){t!==SplitView.TABLET_MODE&&t!==SplitView.MOBILE_MODE||(this.removeClassName(this._mode),this._mode=t,this.addClassName(this._mode),this._orientation===SplitView.VERTICAL?this._set_orientation(0):this._set_orientation(90))},get:function(){return this._mode}},hideMainPanelButton:{set:function(t){this._hide_main_panel_button=t,this._mode==SplitView.TABLET_MODE&&this._hide_main_panel_button.hide(),this._hide_main_panel_button.bind("select",this)}},showPopOverButton:{set:function(t){this._show_pop_over_button=t,this._mode==SplitView.MOBILE_MODE&&this._show_pop_over_button.hide(),this._show_pop_over_button.bind("select",this)}},secondPanelPosition:{set:function(t){t!==SplitView.LEFT&&t!==SplitView.RIGHT&&t!==SplitView.TOP&&t!==SplitView.BOTTOM||(this.removeClassName(this._second_panel_position),this._second_panel_position=t,this.addClassName(this._second_panel_position))}},orientation:{set:function(t){t!==SplitView.VERTICAL&&t!==SplitView.HORIZONTAL||(this.removeClassName(this._orientation),this._orientation=t,this.addClassName(this._orientation),t===SplitView.VERTICAL?this._set_orientation(0):this._set_orientation(90))},get:function(t){return this._orientation}}},html_template:html_template$17,_delegate:null,_mode:"",_second_panel_position:"",_orientation:"",_split_views:null,_fisrt_view_width:320,_pop_over_border_width:8,_pop_over:null,constructor:function(t){this._super(t),this._left_views=new Array,this._pop_over=new PopOver},initComponent:function(){if(this._super(),this._pop_over.init(),this._pop_over.hide(),document.body.appendChild(this._pop_over.view),this._mode?this.mode=this._mode:this.mode=SplitView.TABLET_MODE,this._orientation)this.orientation=this._orientation;else{var t=window.deviceConfiguration.getOrientation();this.orientation=0===t||180===t?SplitView.VERTICAL:SplitView.HORIZONTAL}this._second_panel_position?this.secondPanelPosition=this._second_panel_position:this.secondPanelPosition=SplitView.LEFT},add:function(t,e){"second_panel"===e?(this._left_views.push(t),this._mode===SplitView.MOBILE||this._orientation===SplitView.HORIZONTAL?this._super(t,"second_panel"):this._pop_over.add(t)):this._super(t,"main_panel")},removeAllChildren:function(t){var e,i,s,_=[];for(e in this.__children)if(i=this.__children[e]){if(i instanceof Array)for(;i.length;)s=i[0],this.remove(s),t?vs_utils$1__default.free(s):_.push(s);else this.remove(i),t?vs_utils$1__default.free(i):_.push(i);delete this.__children[e]}return this.__children={},t?void 0:_},refresh:function(){this._super(),this._pop_over.visible&&this._pop_over.refresh()},orientationWillChange:function(t){this.orientation=90===t||-90===t?SplitView.HORIZONTAL:SplitView.VERTICAL},_set_orientation:function(t){var e;this.size;(e=this._left_views[0])&&(this._mode===SplitView.MOBILE_MODE||90===t||-90===t?(this._pop_over.hide(),this._pop_over.isChild(e)&&this._pop_over.remove(e),this.isChild(e)||View.prototype.add.call(this,e,"second_panel"),e.show(e.refresh),this._delegate&&this._delegate.willShowView&&this._delegate.willShowView(e,this._pop_over),this._show_pop_over_button&&this._show_pop_over_button.hide()):(this.isChild(e)&&View.prototype.remove.call(this,e),this._pop_over.isChild(e)||this._pop_over.add(e),e.show(),this._pop_over.size=[this._fisrt_view_width+2*this._pop_over_border_width,500],this._show_pop_over_button&&this._show_pop_over_button.show(),this._delegate&&this._delegate.willShowView&&this._delegate.willHideView(e,this._pop_over)))},orientationDidChange:function(t){this.refresh()},showPopOver:function(t,e){this._mode===SplitView.TABLET_MODE&&this._orientation===SplitView.VERTICAL&&(this._pop_over.show(t,e),this._pop_over.refresh())},hidePopOver:function(){this._pop_over.hide()},showMainView:function(t){this._mode===SplitView.MOBILE_MODE&&(this._hide_main_panel_button&&this._hide_main_panel_button.show(),this.addClassName("main_view_visible"))},hideMainView:function(){this._mode===SplitView.MOBILE_MODE&&(this._hide_main_panel_button&&this._hide_main_panel_button.hide(),this.removeClassName("main_view_visible"))},notify:function(t){"select"==t.type&&t.src==this._hide_main_panel_button&&this.hideMainView(),"select"==t.type&&t.src==this._show_pop_over_button&&this.showPopOver([20,20])}});SplitView.TABLET_MODE="tablet",SplitView.MOBILE_MODE="mobile",SplitView.VERTICAL="vertical",SplitView.HORIZONTAL="horizontal",SplitView.RIGHT="right",SplitView.LEFT="left",SplitView.BOTTOM="bottom",SplitView.TOP="top";var html_template$18='<div class="vs_ui_svgview"></div>\n';function SVGView(t){this.parent=View,this.parent(t),this.constructor=SVGView}var SVG_DOCUMENTS={},SVG_DOCUMENTS_TO_LOAD={},SVG_DEFS=null;function load_svg_doc(t,e,i){if(t&&i){var s=SVG_DOCUMENTS_TO_LOAD[t];if(s)s.push({elem_id:e,svg_obj:i});else{(s=[]).push({elem_id:e,svg_obj:i}),SVG_DOCUMENTS_TO_LOAD[t]=s;var _=document.createElement("object");_.data=t,_.type="image/svg+xml",_.width="0",_.height="0",_.style.visibility="hidden",_.onload=function(){var e=_.getSVGDocument();if(e){var i=e.querySelector("svg");if(!SVG_DEFS){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("width","0"),s.setAttribute("height","0"),document.body.appendChild(s),SVG_DEFS=document.createElementNS("http://www.w3.org/2000/svg","defs"),s.appendChild(SVG_DEFS)}SVG_DEFS.appendChild(i),document.body.removeChild(_),SVG_DOCUMENTS[t]=i;var n=SVG_DOCUMENTS_TO_LOAD[t];if(n){delete SVG_DOCUMENTS_TO_LOAD[t];for(var o=0;o<n.length;o++){var r=n[o];r.svg_obj.__set_svg_doc(i,r.elem_id)}}}},document.body.appendChild(_)}}}SVGView.prototype={html_template:html_template$18,_href:null,_view_box:null,__set_svg_doc:function(t,e){if(t){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(vs_utils$1__default.removeAllElementChild(this.view),this.view.appendChild(i),this._view_box&&(this.viewBox=this._view_box),e)i.appendChild(o(e));else for(var s=t.childNodes,_=0;_<s.length;_++){var n=s[_];1===n.nodeType&&"defs"!==n.nodeName&&((e=n.getAttribute("id"))||(e=vs_core$1__default.createId(),n.setAttribute("id",e)),i.appendChild(o(e)))}}function o(t){var e=document.createElementNS("http://www.w3.org/2000/svg","use");return e.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+t),e}}},vs_utils$1__default.extendClass(SVGView,View),vs_utils$1__default.defineClassProperties(SVGView,{href:{set:function(t){if(vs_utils$1__default.isString(t)){this._href=t;var e,i;-1!==t.indexOf("#")?(e=t.substr(0,t.indexOf("#")),i=t.substring(t.indexOf("#")+1)):e=this._href;var s=SVG_DOCUMENTS[e];s?this.__set_svg_doc(s,i):load_svg_doc(e,i,this)}},get:function(){return this._href}},contentData:{set:function(t){vs_utils$1__default.isString(t)&&(vs_utils$1__default.removeAllElementChild(this.view),this.__object&&delete this.__object,vs_utils$1__default.safeInnerHTML(this.view,t),this._href=void 0)}},viewBox:{set:function(t){if(vs_utils$1__default.isArray(t)&&4==t.length){this._view_box=t;var e=this.view.querySelector("svg");e&&(e.setAttribute("width",t[2]),e.setAttribute("height",t[3]),e.setAttribute("viewBox",t.join(" ")))}}}});var html_template$19='<div class="vs_ui_switch">\n  <div>\n    <div class="toggle_on"></div>\n    <div class="toggle_off"></div> \n    <div class="switch"></div> \n  </div>\n</div>';function Switch(t){this.parent=View,this.parent(t),this.constructor=Switch}Switch.prototype={html_template:html_template$19,__tap_recognizer:null,__switch_translate:0,_selected:!1,_toggled:!0,_mode:Application.CSS_DEFAULT,__toggle_on_view:null,__toggle_off_view:null,__switch_view:null,_text_on:"",_text_off:"",didTouch:function(){this.addClassName("pressed"),this._selected=!0},didUntouch:function(){this.removeClassName("pressed"),this._selected=!1},_setToggle:function(t){var e=this;e._toggled=!!t,vs_core$1__default.scheduleAction(function(){e._initWidthSwitch(),e._toggled?(e.addClassName("on"),e._mode===Application.CSS_PURE?vs_utils$1__default.setElementTransform(e.__switch_view,"translate3d(-15px,0,0)"):e._mode!==Application.CSS_ANDROID?vs_utils$1__default.setElementTransform(e.__switch_view,"translate3d("+e.__switch_translate+"px,0,0)"):e._mode===Application.CSS_ANDROID&&vs_utils$1__default.setElementTransform(e.__switch_view,"translate3d(0,0,0)")):(e.removeClassName("on"),vs_utils$1__default.setElementTransform(e.__switch_view,"translate3d(0,0,0)")),e.outPropertyChange()})},viewDidAdd:function(){View.prototype.viewDidAdd.call(this),this._setToggle(this._toggled)},refresh:function(){View.prototype.refresh.call(this),this._mode=View.getDeviceCSSCode(),this._setToggle(this._toggled)},didTap:function(){this._setToggle(!this._toggled),this.propagate("change",this._toggled)},destructor:function(){this.__tap_recognizer&&(this.removePointerRecognizer(this.__tap_recognizer),this.__tap_recognizer=null),View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this),this.__toggle_on_view=this.view.querySelector(".vs_ui_switch .toggle_on"),this.__toggle_off_view=this.view.querySelector(".vs_ui_switch .toggle_off"),this.__switch_view=this.view.querySelector(".vs_ui_switch .switch"),this.__tap_recognizer||(this.__tap_recognizer=new TapRecognizer(this),this.addPointerRecognizer(this.__tap_recognizer)),this._mode=View.getDeviceCSSCode(),this._text_on&&(this.textOn=this._text_on),this._text_off&&(this.textOff=this._text_off),this.toggled=this._toggled},_initWidthSwitch:function(){var t=parseInt(vs_utilsgetElementStyle(this.view,"border-left-width"),10)+parseInt(vs_utilsgetElementStyle(this.view,"border-right-width"),10);this.__switch_translate=this.view.offsetWidth-(this.__switch_view.offsetWidth+2*this.__switch_view.offsetLeft)-t},_updateSizeAndPos:function(){var t,e=this._size[0],i=(this._size[1],this._pos[0]),s=this._pos[1],_=0,n=0,o="auto",r="auto",a="auto",l=this._autosizing[0],h=this._autosizing[1];this.view.parentNode&&(_=this.view.parentNode.offsetWidth,n=this.view.parentNode.offsetHeight),t=4===l||1===l?e+"px":5===l||7===l?"auto":2===l||3===l||6===l||0===l?_?Math.round(e/_*100)+"%":e+"px":"100%",4===l||5===l||6===l||7===l||2===l&&!_?o=i+"px":2!==l&&0!==l||!_||(o=Math.round(i/_*100)+"%"),1!==l&&3!==l&&5!==l&&7!==l||(a=_-(i+e)+"px"),4===h||5===h||6===h||7===h||2===h&&!n?r=s+"px":2!==h&&0!==h||!n||(r=Math.round(s/n*100)+"%"),this.view.style.width=t,this.view.style.removeProperty("height"),this.view.style.left=o,this.view.style.top=r,this.view.style.right=a,this.view.style.bottom="auto"}},vs_utils$1__default.extendClass(Switch,View),vs_utils$1__default.defineClassProperties(Switch,{textOn:{set:function(t){if(this.__toggle_on_view){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._text_on=t,vs_utils$1__default.setElementInnerText(this.__toggle_on_view,this._text_on)}else console.warn("vs.ui.Switch.textOff, none initialized comp: "+this.id)},get:function(){return this._text_on}},textOff:{set:function(t){if(this.__toggle_off_view){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._text_off=t,vs_utils$1__default.setElementInnerText(this.__toggle_off_view,this._text_off)}else console.warn("vs.ui.Switch.textOff, none initialized comp: "+this.id)},get:function(){return this._text_off}},toggled:{set:function(t){var e=this;vs_core$1__default.scheduleAction(function(){e._setToggle(t)})},get:function(){return this._toggled}}});var html_template$20='<textarea class="vs_ui_textarea"></textarea>';function TextArea(t){this.parent=View,this.parent(t),this.constructor=TextArea}TextArea.prototype={html_template:html_template$20,_ab_view_t_x:0,_ab_view_t_y:0,_value:"",destructor:function(){this.view.removeEventListener("change",this),this.view.removeEventListener("focus",this),this.view.removeEventListener("blur",this),this.view.removeEventListener("textInput",this),View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this),vs_utils$1__default.isString(this._value)&&(this.view.value=this._value,this.view.addEventListener("textInput",this),this.view.addEventListener("change",this),this.view.addEventListener("focus",this),this.view.addEventListener("blur",this))},setFocus:function(){this.view.focus()},setBlur:function(){this.view.blur()},setPointerEvents:function(t){this._text_field.style.pointerEvents=t?"none":"auto"},handleEvent:function(t){var e=this;function i(t){t.src!==e.view&&(vs_gesture.removePointerListener(document,vs_gesture.POINTER_START,i,!0),e.setBlur())}switch(t.type){case"focus":vs_gesture.addPointerListener(document,vs_gesture.POINTER_START,i,!0);break;case"blur":break;case"change":this._value=this.view.value,this.outPropertyChange(),this.propagate("change",this._value);break;case"textInput":this._value=this.view.value,this.outPropertyChange(),this.propagate("continuous_change",this._value)}}},vs_utils$1__default.extendClass(TextArea,View),vs_utils$1__default.defineClassProperty(TextArea,"value",{set:function(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._value=t,this.view.value=t},get:function(){return this._value}});var html_template$21='<div class="vs_ui_textlabel"></div>\n\n';function TextLabel(t){this.parent=View,this.parent(t),this.constructor=TextLabel}TextLabel.prototype={html_template:html_template$21,_text:"",destructor:function(){View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this),this._text&&vs_utils$1__default.setElementInnerText(this.view,this._text)}},vs_utils$1__default.extendClass(TextLabel,View),vs_utils$1__default.defineClassProperty(TextLabel,"text",{set:function(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._text=t,this.view&&vs_utils$1__default.setElementInnerText(this.view,this._text)},get:function(){return this._text}});var html_template$22='<div class="vs_ui_toolbar">\n  <div x-hag-hole="children"></div>\n</div>';function ToolBar$1(t){this.parent=View,this.parent(t),this.constructor=ToolBar$1,this._items={}}ToolBar$1.DEFAULT_STYLE="black_style",ToolBar$1.BLACK_TRANSLUCIDE_STYLE="black_translucide_style",ToolBar$1.BLUE_STYLE="blue_style",ToolBar$1.prototype={html_template:html_template$22,_hide_animation:null,_show_animation:null,_style:ToolBar$1.DEFAULT_STYLE,_configuration:[],_items:null,_is_toggle_buttons:!0,__select_item:null,__active_item:null,destructor:function(){vs_utils$1__default.free(this._show_animation),vs_utils$1__default.free(this._hide_animation),this.removePointerRecognizer(this.recognizer),vs_utils$1__default.free(this.recognizer),View.prototype.destructor.call(this)},initComponent:function(){View.prototype.initComponent.call(this),this._hide_animation=new Animation(["translateY","44px"]),this._show_animation=new Animation(["translateY","0px"]),this.style=this._style,this.recognizer=new TapRecognizer(this),this.addPointerRecognizer(this.recognizer)},didTouch:function(t,e,i){var s=i.target._comp_;s&&s!==this.__select_item&&(this.__active_item=s,this.__active_item.addClassName("active"))},didUntouch:function(t,e,i){this.__active_item&&(this.__active_item.removeClassName("active"),this.__active_item=null)},didTap:function(t,e,i,s){var _=s.target._comp_;_&&(this.selectedId=_.id,this.outPropertyChange())},addButton:function(t,e,i){if(!this._items[t]){var s=new ToolBar$1.Button({id:t});return s.init(),i&&(s.label=i),s.name=e,this.add(s,"children"),this._items[t]=s,s}},addItem:function(t){t&&!this._items[t.id]&&(this.add(t,"children"),this._items[t.id]=t)},removeItem:function(t){var e=this._items[t];if(e){try{this.remove(e)}catch(t){t.stack&&console.log(t.stack)}delete this._items[t]}}},vs_utils$1__default.extendClass(ToolBar$1,View),vs_utils$1__default.defineClassProperties(ToolBar$1,{style:{set:function(t){vs_utils$1__default.isString(t)&&(this._style&&this.removeClassName(this._style),this._style=t,this.addClassName(this._style))},get:function(){return this._style}},configuration:{set:function(t){if(vs_utils$1__default.isArray(t)){var e,i,s;this._configuration=t;for(e in this._items)this.removeItem(e);for(i=0;i<t.length;i++)s=t[i],this.addButton(s[0],s[1],s[2])}}},isToggleButtons:{set:function(t){this._is_toggle_buttons=!!t},get:function(){return this._is_toggle_buttons}},selectedId:{set:function(t){var e=this._items[t];e&&this.__select_item!==e&&(this.__select_item&&this.__select_item.removeClassName("select"),this.__select_item=e,e.addClassName("select"),this._is_toggle_buttons||(this.__select_item.removeClassName("select"),this.__select_item=null),this.propagate("itemselect",t),this._selected_id=t)},get:function(){return this._selected_id}}}),ToolBar$1.Text=function(t){this.parent=View,this.parent(t),this.constructor=ToolBar$1.Text},ToolBar$1.Text.prototype={_text:"",initComponent:function(){this.__config__||(this.__config__={}),this.__config__.id=this.id,this.__config__.node||(this.__config__.node=document.createElement("div"),this.__config__.node.className="vs_ui_toolbar_text"),View.prototype.initComponent.call(this),this._text_view=document.createElement("div"),this._text_view.className="text_view",this.view.appendChild(this._text_view)}},vs_utils$1__default.extendClass(ToolBar$1.Text,View),vs_utils$1__default.defineClassProperty(ToolBar$1.Text,"text",{set:function(t){if(null===t||void 0===t)t="";else if(vs_utils$1__default.isNumber(t))t=""+t;else if(!vs_utils$1__default.isString(t)){if(!t.toString)return;t=t.toString()}this._text=t,this._text_view&&vs_utils$1__default.setElementInnerText(this._text_view,this._text)},get:function(){return this._text}}),ToolBar$1.Button=function(t){this.parent=View,this.parent(t),this.constructor=ToolBar$1.Button},ToolBar$1.Button.prototype={_name:"",_label:"",initComponent:function(){this.__config__||(this.__config__={}),this.__config__.id=this.id,this.__config__.node||(this.__config__.node=document.createElement("div"),this.__config__.node.className="vs_ui_toolbar_button"),View.prototype.initComponent.call(this)},setImage:function(t){this.view.style.backgroundImage="url("+t+")"}},vs_utils$1__default.extendClass(ToolBar$1.Button,View),vs_utils$1__default.defineClassProperties(ToolBar$1.Button,{name:{set:function(t){vs_utils$1__default.isString(t)&&(this._name=t,this.addClassName(this._name))},get:function(){return this._name}},label:{set:function(t){vs_utils$1__default.isString(t)&&(this._label=t,vs_utils$1__default.setElementInnerText(this.view,t),t?this.setStyle("background-position","center 0px"):this.setStyle("background-position","center"))},get:function(){return this._label}}}),ToolBar$1.BUTTON_ADD="add",ToolBar$1.BUTTON_ARROW_DOWN="arrow_down",ToolBar$1.BUTTON_ARROW_LEFT="arrow_left",ToolBar$1.BUTTON_ARROW_RIGHT="arrow_right",ToolBar$1.BUTTON_ARROW_UP="arrow_up",ToolBar$1.BUTTON_ATTACH="attach",ToolBar$1.BUTTON_AUCTION="auction",ToolBar$1.BUTTON_BELL_OFF="bell_off",ToolBar$1.BUTTON_BELL="bell",ToolBar$1.BUTTON_BLOG="blog",ToolBar$1.BUTTON_BOOK_MARKED="book_marked",ToolBar$1.BUTTON_BOOK="book",ToolBar$1.BUTTON_BOOKMARK_ADD="bookmark_add",ToolBar$1.BUTTON_BOORMARK="bookmark",ToolBar$1.BUTTON_BOX_FULL="box_full",ToolBar$1.BUTTON_BOX_MAIL="box_mail",ToolBar$1.BUTTON_BOX="box",ToolBar$1.BUTTON_BRIGHTNESS="brightness",ToolBar$1.BUTTON_BRUSH="brush",ToolBar$1.BUTTON_BULB_OFF="bulb_off",ToolBar$1.BUTTON_BULB_ON="bulb_on",ToolBar$1.BUTTON_BUZZER="buzzer",ToolBar$1.BUTTON_CALCULATOR="calculator",ToolBar$1.BUTTON_CALENDAR="calendar",ToolBar$1.BUTTON_CALL="call",ToolBar$1.BUTTON_CANCEL="cancel",ToolBar$1.BUTTON_CASE="case",ToolBar$1.BUTTON_CHECKMARK="checkmark",ToolBar$1.BUTTON_CIRCLE_ARROW_LEFT="circle_arrow_left",ToolBar$1.BUTTON_CIRCLE_ARROW_RIGHT="circle_arrow_right",ToolBar$1.BUTTON_COMMAND_LINE="command_line",ToolBar$1.BUTTON_COMMENT_ADD="command_add",ToolBar$1.BUTTON_COMMENT_DELETE="command_delete",ToolBar$1.BUTTON_COMMENT_OK="command_ok",ToolBar$1.BUTTON_COMPUTER_OFF="computer_off",ToolBar$1.BUTTON_COMPUTER_ON="computer_on",ToolBar$1.BUTTON_CONSTRAST="contrast",ToolBar$1.BUTTON_CONTROL_1="controls_1",ToolBar$1.BUTTON_CONTROL_2="controls_2",ToolBar$1.BUTTON_CONTROL_3="controls_3",ToolBar$1.BUTTON_CONTROL_4="controls_4",ToolBar$1.BUTTON_CONTROL_5="controls_5",ToolBar$1.BUTTON_CONTROL_6="controls_6",ToolBar$1.BUTTON_CONTROL_7="controls_7",ToolBar$1.BUTTON_CONTROL_8="controls_8",ToolBar$1.BUTTON_COPY="copy",ToolBar$1.BUTTON_COURT="court",ToolBar$1.BUTTON_CREDIT_CARD="credit_card",ToolBar$1.BUTTON_CUT="cut",ToolBar$1.BUTTON_DANGER="danger",ToolBar$1.BUTTON_DELETE="delete",ToolBar$1.BUTTON_DISK="disk",ToolBar$1.BUTTON_DOCUMENT_BLANK="document_blank",ToolBar$1.BUTTON_DOCUMENT="document",ToolBar$1.BUTTON_DOLLAR="dollar",ToolBar$1.BUTTON_DOWNLAOD="download",ToolBar$1.BUTTON_ERROR="error",ToolBar$1.BUTTON_FAVORITIES_ADD="favorities_add",ToolBar$1.BUTTON_FAVORITIES_REMOVE="favorities_remove",ToolBar$1.BUTTON_FAVORITIES="favorities",ToolBar$1.BUTTON_FILM="film",ToolBar$1.BUTTON_FILMING="filming",ToolBar$1.BUTTON_FIRST_AID="first_aid",ToolBar$1.BUTTON_FLAG_BIS="flag_1",ToolBar$1.BUTTON_FLAG="flag",ToolBar$1.BUTTON_FLASH_ARROW="flash_arrow",ToolBar$1.BUTTON_FLASH="flash",ToolBar$1.BUTTON_FOLDER_BOOKMARCK="folder_bookmark",ToolBar$1.BUTTON_FOLDER_GOTO="folder_goto",ToolBar$1.BUTTON_FOLDER="folder",ToolBar$1.BUTTON_FONT_CAPITAL="font_capital",ToolBar$1.BUTTON_FONT_ITALIC="font_italic",ToolBar$1.BUTTON_FONT_REGULAR="font_regular",ToolBar$1.BUTTON_FONT_UNDERLINE="font_undeline",ToolBar$1.BUTTON_FONT="font",ToolBar$1.BUTTON_FONTS="fonts",ToolBar$1.BUTTON_FORUM="forum",ToolBar$1.BUTTON_FRAME="frame",ToolBar$1.BUTTON_GRAPH_AREAS="graph_areas",ToolBar$1.BUTTON_GRAPH_BARS_DOWN="graph_bars_down",ToolBar$1.BUTTON_GRAPH_BARS_UP="graph_bars_up",ToolBar$1.BUTTON_GRAPH_BARS="graph_bars",ToolBar$1.BUTTON_GRAPH_DOWN="graph_down",ToolBar$1.BUTTON_GRAPH_LINES="graph_lines",ToolBar$1.BUTTON_GRAPH_UP="graph_up",ToolBar$1.BUTTON_HAT="hat",ToolBar$1.BUTTON_HELP="help",ToolBar$1.BUTTON_HOME="home",ToolBar$1.BUTTON_INFORMATION="information",ToolBar$1.BUTTON_KEY="key",ToolBar$1.BUTTON_KEYBOARD="keyboard",ToolBar$1.BUTTON_LAPTOP="laptop",ToolBar$1.BUTTON_LINK="links",ToolBar$1.BUTTON_LIST_BULLETS="bullets",ToolBar$1.BUTTON_LIST_NUMBERS="list_numbers",ToolBar$1.BUTTON_LOCK="lock",ToolBar$1.BUTTON_MAGNIFY_GLASS="magnify_glass",ToolBar$1.BUTTON_MAIL="mail",ToolBar$1.BUTTON_MANAGE="manage",ToolBar$1.BUTTON_MEASURE="measure",ToolBar$1.BUTTON_MEASURES="measures",ToolBar$1.BUTTON_MIC_BIS="mic_bis",ToolBar$1.BUTTON_MIC="mic",ToolBar$1.BUTTON_MINUS="minus",ToolBar$1.BUTTON_MUTE="mute",ToolBar$1.BUTTON_PAINT="pain",ToolBar$1.BUTTON_PAPER_PLANE="paper_plane",ToolBar$1.BUTTON_PAPER_TRASH="paper_trash",ToolBar$1.BUTTON_PAPERCLIO="paperclio",ToolBar$1.BUTTON_PARAGRAPH="paragraph",ToolBar$1.BUTTON_PENCIL="pencil",ToolBar$1.BUTTON_PHOTO="photo",ToolBar$1.BUTTON_PIECHART="113",ToolBar$1.BUTTON_POST="post",ToolBar$1.BUTTON_PROFILE="profile",ToolBar$1.BUTTON_REFRESH="refresh",ToolBar$1.BUTTON_RESIZE="resize",ToolBar$1.BUTTON_RSS="rss",ToolBar$1.BUTTON_SAD_FACE="sade_face",ToolBar$1.BUTTON_SAFE="safe",ToolBar$1.BUTTON_SAVE="save",ToolBar$1.BUTTON_SETTINGS="settings",ToolBar$1.SHOPPING_BAG="shopping_bag",ToolBar$1.SHOPPING_CART="shopping_cart",ToolBar$1.SHOPPING_HEAVY="shopping_heavy",ToolBar$1.SIM="sim",ToolBar$1.SMILE_FACE="smile_face",ToolBar$1.SORT_AZ="sort_az",ToolBar$1.SORT_ZA="sort_za",ToolBar$1.STAR="star",ToolBar$1.STORAGE="storage",ToolBar$1.SWITCH="switch",ToolBar$1.TAG_ADD="tag_add",ToolBar$1.TAG_CANCEL="tag_cancel",ToolBar$1.TAG_DELETE="tag_delete",ToolBar$1.TAG="tag",ToolBar$1.TEXT_ALIGN_CENTER="text_align_center",ToolBar$1.TEXT_ALIGN_JUSTIFY="text_align_justify",ToolBar$1.TEXT_ALIGN_LEFT="text_align_left",ToolBar$1.TEXT_ALIGN_RIGHT="text_align_right",ToolBar$1.TIME="time",ToolBar$1.TIMER="timer",ToolBar$1.TRASH="trash",ToolBar$1.TWG="twg",ToolBar$1.UNLOCK="unlock",ToolBar$1.UPLOAD="upload",ToolBar$1.USER="user",ToolBar$1.USERS="users",ToolBar$1.VOLUME_DOWN="volume_down",ToolBar$1.VOLUME_UP="volume_up",ToolBar$1.VOLUME="volume",ToolBar$1.WALLET="wallet",ToolBar$1.WARNING="warning",ToolBar$1.WIFI="wifi",ToolBar$1.WINDOW_ERROR="window_error",ToolBar$1.WINDOW_GLOBE="window_globe",ToolBar$1.WINDOW_LOCK="window_lock",ToolBar$1.WINDOW="window",ToolBar$1.ZOOM_IN="zoom_in",ToolBar$1.ZOMM_OUT="zoom_out",vs_utils$1__default.defineProperty(document,"preventScroll",{get:function(){return document._preventScroll},set:function(t){document._preventScroll=t}}),exports.Application=Application,exports.Button=Button,exports.Canvas=Canvas,exports.CheckBox=CheckBox,exports.ComboBox=ComboBox,exports.ImageView=ImageView,exports.InputField=InputField,exports.AbstractList=AbstractList,exports.List=List,exports.AbstractListItem=AbstractListItem,exports.DefaultListItem=DefaultListItem,exports.SimpleListItem=SimpleListItem,exports.NavigationBar=NavigationBar$1,exports.Picker=Picker,exports.PopOver=PopOver$1,exports.ProgressBar=ProgressBar,exports.RadioButton=RadioButton,exports.DragRecognizer=DragRecognizer,exports.PinchRecognizer=PinchRecognizer,exports.RotationRecognizer=RotationRecognizer,exports.TapRecognizer=TapRecognizer,exports.ScrollImageView=ScrollImageView,exports.ScrollView=ScrollView,exports.SegmentedButton=SegmentedButton,exports.Slider=Slider,exports.SplitView=SplitView,exports.SVGView=SVGView,exports.Switch=Switch,exports.TextArea=TextArea,exports.TextLabel=TextLabel,exports.ToolBar=ToolBar$1,exports.View=View,exports.Template=Template,exports.ANIMATION_DURATION=ANIMATION_DURATION,exports.ANIMATION_DELAY=ANIMATION_DELAY,exports.ANIMATION_NAME=ANIMATION_NAME,exports.ANIMATION_TIMING_FUNC=ANIMATION_TIMING_FUNC,exports.ANIMATION_FILL_MODE=ANIMATION_FILL_MODE,exports.TRANSITION_DURATION=TRANSITION_DURATION,exports.TRANSITION_PROPERTY=TRANSITION_PROPERTY,exports.TRANSITION_DELAY=TRANSITION_DELAY,exports.TRANSITION_TIMING_FUNC=TRANSITION_TIMING_FUNC,exports.TRANSFORM_ORIGIN=TRANSFORM_ORIGIN,exports.ITERATION_COUNT=ITERATION_COUNT,exports.TRANSFORM=TRANSFORM,exports.KEY_FRAMES=KEY_FRAMES,exports.Animation=Animation,exports.cancelAnimation=cancelAnimation,exports.TranslateAnimation=TranslateAnimation,exports.RotateAnimation=RotateAnimation,exports.RotateXYZAnimation=RotateXYZAnimation,exports.ScaleAnimation=ScaleAnimation,exports.SkewAnimation=SkewAnimation,exports.OpacityAnimation=OpacityAnimation,Object.defineProperty(exports,"__esModule",{value:!0})});